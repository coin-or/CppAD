<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="json_ad_graph, json, representation, of, an, ad, graph" name="keywords" />
<meta content="see, also" name="keywords" />
<meta content="node, indices" name="keywords" />
<meta content="p" name="keywords" />
<meta content="x" name="keywords" />
<meta content="c" name="keywords" />
<meta content="r_i" name="keywords" />
<meta content="format" name="keywords" />
<meta content="token" name="keywords" />
<meta content="white, space" name="keywords" />
<meta content="non-negative, integer" name="keywords" />
<meta content="floating, point, number" name="keywords" />
<meta content="string" name="keywords" />
<meta content="single, character" name="keywords" />
<meta content="op_define_vec" name="keywords" />
<meta content="op_define" name="keywords" />
<meta content="op_code" name="keywords" />
<meta content="n_arg" name="keywords" />
<meta content="n_result" name="keywords" />
<meta content="op_usage" name="keywords" />
<meta content="n_arg, in, definition" name="keywords" />
<meta content="n_arg, not, in, definition" name="keywords" />
<meta content="strings, in, usage" name="keywords" />
<meta content="first_arg,, ...,, last_arg" name="keywords" />
<meta content="dynamic_ind_vec" name="keywords" />
<meta content="n_dynamic_ind" name="keywords" />
<meta content="variable_ind_vec" name="keywords" />
<meta content="n_variable_ind" name="keywords" />
<meta content="constant_vec" name="keywords" />
<meta content="n_constant" name="keywords" />
<meta content="op_usage_vec" name="keywords" />
<meta content="n_usage" name="keywords" />
<meta content="dependent_vec" name="keywords" />
<meta content="n_dependent" name="keywords" />
<meta content="ad, graph" name="keywords" />
<meta content="function_name" name="keywords" />
<meta content="function" name="keywords" />
<meta content="contents" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>json_ad_graph &mdash; cppad  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="json_graph_op" href="json_graph_op.html" />
    <link rel="prev" title="base2vec_ad.cpp" href="base2vec_ad.cpp.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="xrst_root_doc.html" class="icon icon-home"> cppad
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="xrst_table_of_contents.html">Table of Contents</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="CppAD.html">CppAD</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Install.html">Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="Theory.html">Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="AD.html">AD</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ADFun.html">ADFun</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="record_adfun.html">record_adfun</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="other_adfun.html">other_adfun</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="base2ad.html">base2ad</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">json_ad_graph</a><ul>
<li class="toctree-l5"><a class="reference internal" href="json_graph_op.html">json_graph_op</a></li>
<li class="toctree-l5"><a class="reference internal" href="from_json.html">from_json</a></li>
<li class="toctree-l5"><a class="reference internal" href="to_json.html">to_json</a></li>
<li class="toctree-l5"><a class="reference internal" href="json_get_started.cpp.html">json_get_started.cpp</a></li>
<li class="toctree-l5"><a class="reference internal" href="json_sparse.cpp.html">json_sparse.cpp</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="cpp_ad_graph.html">cpp_ad_graph</a></li>
<li class="toctree-l4"><a class="reference internal" href="abs_normal_fun.html">abs_normal_fun</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="drivers.html">drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="Forward.html">Forward</a></li>
<li class="toctree-l3"><a class="reference internal" href="Reverse.html">Reverse</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparsity_pattern.html">sparsity_pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparse_derivative.html">sparse_derivative</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimize.html">optimize</a></li>
<li class="toctree-l3"><a class="reference internal" href="FunCheck.html">FunCheck</a></li>
<li class="toctree-l3"><a class="reference internal" href="check_for_nan.html">check_for_nan</a></li>
<li class="toctree-l3"><a class="reference internal" href="to_csrc.html">to_csrc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="preprocessor.html">preprocessor</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi_thread.html">multi_thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="utility.html">utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipopt_solve.html">ipopt_solve</a></li>
<li class="toctree-l2"><a class="reference internal" href="Example.html">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="speed.html">speed</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix.html">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="xrst_index.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="xrst_root_doc.html">cppad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="xrst_root_doc.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="CppAD.html">CppAD</a> &raquo;</li>
          <li><a href="ADFun.html">ADFun</a> &raquo;</li>
          <li><a href="other_adfun.html">other_adfun</a> &raquo;</li>
      <li>json_ad_graph</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/json_ad_graph.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p class="hidden"><span class="math notranslate nohighlight">\(\newcommand{\W}[1]{ \; #1 \; }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\R}[1]{ {\rm #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\B}[1]{ {\bf #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\D}[2]{ \frac{\partial #1}{\partial #2} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\DD}[3]{ \frac{\partial^2 #1}{\partial #2 \partial #3} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\Dpow}[2]{ \frac{\partial^{#1}}{\partial  {#2}^{#1}} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\dpow}[2]{ \frac{ {\rm d}^{#1}}{{\rm d}\, {#2}^{#1}} }\)</span></p>
<section id="json-ad-graph">
<span id="json-ad-graph-name"></span><h1>json_ad_graph<a class="headerlink" href="#json-ad-graph" title="Permalink to this headline"></a></h1>
<section id="json-representation-of-an-ad-graph">
<span id="json-ad-graph-title"></span><span id="index-0"></span><h2>Json Representation of an AD Graph<a class="headerlink" href="#json-representation-of-an-ad-graph" title="Permalink to this headline"></a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#see-also" id="id2">See Also</a></p></li>
<li><p><a class="reference internal" href="#node-indices" id="id3">Node Indices</a></p>
<ul>
<li><p><a class="reference internal" href="#p" id="id4">p</a></p></li>
<li><p><a class="reference internal" href="#x" id="id5">x</a></p></li>
<li><p><a class="reference internal" href="#c" id="id6">c</a></p></li>
<li><p><a class="reference internal" href="#r-i" id="id7">r_i</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#format" id="id8">Format</a></p></li>
<li><p><a class="reference internal" href="#token" id="id9">Token</a></p>
<ul>
<li><p><a class="reference internal" href="#white-space" id="id10">White Space</a></p></li>
<li><p><a class="reference internal" href="#non-negative-integer" id="id11">Non-Negative Integer</a></p></li>
<li><p><a class="reference internal" href="#floating-point-number" id="id12">Floating Point Number</a></p></li>
<li><p><a class="reference internal" href="#string" id="id13">String</a></p></li>
<li><p><a class="reference internal" href="#single-character" id="id14">Single Character</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#op-define-vec" id="id15">op_define_vec</a></p>
<ul>
<li><p><a class="reference internal" href="#op-define" id="id16">op_define</a></p></li>
<li><p><a class="reference internal" href="#op-code" id="id17">op_code</a></p></li>
<li><p><a class="reference internal" href="#n-arg" id="id18">n_arg</a></p></li>
<li><p><a class="reference internal" href="#n-result" id="id19">n_result</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#op-usage" id="id20">op_usage</a></p>
<ul>
<li><p><a class="reference internal" href="#n-arg-in-definition" id="id21">n_arg In Definition</a></p></li>
<li><p><a class="reference internal" href="#n-arg-not-in-definition" id="id22">n_arg Not In Definition</a></p></li>
<li><p><a class="reference internal" href="#strings-in-usage" id="id23">Strings In Usage</a></p></li>
<li><p><a class="reference internal" href="#first-arg-last-arg" id="id24">first_arg, …, last_arg</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dynamic-ind-vec" id="id25">dynamic_ind_vec</a></p>
<ul>
<li><p><a class="reference internal" href="#n-dynamic-ind" id="id26">n_dynamic_ind</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#variable-ind-vec" id="id27">variable_ind_vec</a></p>
<ul>
<li><p><a class="reference internal" href="#n-variable-ind" id="id28">n_variable_ind</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#constant-vec" id="id29">constant_vec</a></p>
<ul>
<li><p><a class="reference internal" href="#n-constant" id="id30">n_constant</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#op-usage-vec" id="id31">op_usage_vec</a></p>
<ul>
<li><p><a class="reference internal" href="#n-usage" id="id32">n_usage</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dependent-vec" id="id33">dependent_vec</a></p>
<ul>
<li><p><a class="reference internal" href="#n-dependent" id="id34">n_dependent</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ad-graph" id="id35">AD Graph</a></p>
<ul>
<li><p><a class="reference internal" href="#function-name" id="id36">function_name</a></p></li>
<li><p><a class="reference internal" href="#function" id="id37">function</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#json-ad-graph-contents" id="id38">Contents</a></p></li>
</ul>
</div>
<section id="see-also">
<span id="json-ad-graph-see-also"></span><span id="index-1"></span><h3><a class="toc-backref" href="#id2">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="cpp_ad_graph.html#cpp-ad-graph-title"><span class="std std-ref">C++ Representation of an AD Graph</span></a>.</p>
</section>
<section id="node-indices">
<span id="json-ad-graph-node-indices"></span><span id="index-2"></span><h3><a class="toc-backref" href="#id3">Node Indices</a><a class="headerlink" href="#node-indices" title="Permalink to this headline"></a></h3>
<p>The nodes in an AD graph have the following order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">p_0</span> <span class="p">,</span> <span class="o">...</span> <span class="p">,</span>  <span class="n">p_</span><span class="p">{</span><span class="n">np</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span> <span class="p">,</span>
<span class="n">x_0</span> <span class="p">,</span> <span class="o">...</span> <span class="p">,</span>  <span class="n">x_</span><span class="p">{</span><span class="n">nx</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span> <span class="p">,</span>
<span class="n">c_0</span> <span class="p">,</span> <span class="o">...</span> <span class="p">,</span>  <span class="n">c_</span><span class="p">{</span><span class="n">nc</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span> <span class="p">,</span>
<span class="n">r_0</span> <span class="p">,</span> <span class="o">...</span> <span class="p">,</span>  <span class="n">r_</span><span class="p">{</span><span class="n">no</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<section id="p">
<span id="json-ad-graph-node-indices-p"></span><span id="index-3"></span><h4><a class="toc-backref" href="#id4">p</a><a class="headerlink" href="#p" title="Permalink to this headline"></a></h4>
<p>The sub-vector</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">p_0</span><span class="p">,</span> <span class="o">...</span> <span class="p">,</span> <span class="n">p_</span><span class="p">{</span><span class="n">np</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>is the independent dynamic parameter vector;
see <a class="reference internal" href="#json-ad-graph-dynamic-ind-vec-n-dynamic-ind"><span class="std std-ref">n_dynamic_ind</span></a> .
The node index corresponding to <em>p_0</em> is <code class="docutils literal notranslate"><span class="pre">1</span></code> .</p>
</section>
<section id="x">
<span id="json-ad-graph-node-indices-x"></span><span id="index-4"></span><h4><a class="toc-backref" href="#id5">x</a><a class="headerlink" href="#x" title="Permalink to this headline"></a></h4>
<p>The sub-vector</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x_0</span><span class="p">,</span> <span class="o">...</span> <span class="p">,</span> <span class="n">x_</span><span class="p">{</span><span class="n">nx</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>is the independent variable vector;
see <a class="reference internal" href="#json-ad-graph-variable-ind-vec-n-variable-ind"><span class="std std-ref">n_variable_ind</span></a> .
The node index corresponding to <em>x_0</em> is
the index corresponding to <em>p_0</em> plus <em>np</em> .</p>
</section>
<section id="c">
<span id="json-ad-graph-node-indices-c"></span><span id="index-5"></span><h4><a class="toc-backref" href="#id6">c</a><a class="headerlink" href="#c" title="Permalink to this headline"></a></h4>
<p>The sub-vector</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c_0</span><span class="p">,</span> <span class="o">...</span> <span class="p">,</span> <span class="n">c_</span><span class="p">{</span><span class="n">nc</span><span class="o">-</span><span class="mi">1</span><span class="p">}</span>
</pre></div>
</div>
<p>is the constant parameter vector;
see <a class="reference internal" href="#json-ad-graph-constant-vec"><span class="std std-ref">constant_vec</span></a> .
The node index corresponding to <em>c_0</em> is
the index corresponding to <em>x_0</em> plus <em>nx</em> .</p>
</section>
<section id="r-i">
<span id="json-ad-graph-node-indices-r-i"></span><span id="index-6"></span><h4><a class="toc-backref" href="#id7">r_i</a><a class="headerlink" href="#r-i" title="Permalink to this headline"></a></h4>
<p>For <em>i</em> =0,…, <em>no</em> <code class="docutils literal notranslate"><span class="pre">-1</span></code>
the sub-vector <em>r_i</em>
is the result vector for the <em>i</em>-th operator usage;
see <a class="reference internal" href="#json-ad-graph-op-usage-vec"><span class="std std-ref">op_usage_vec</span></a> .
The value <em>no</em> is the number of operator usages; see
<a class="reference internal" href="#json-ad-graph-op-usage-vec-n-usage"><span class="std std-ref">n_usage</span></a> below.
All of the arguments for an the <em>i</em>-th operator are nodes
that come before the first element of <em>r_i</em> .
The node index corresponding to the first element of <em>r_0</em> is
the index corresponding to <em>c_0</em> plus <em>nc</em> .
For <em>i</em>  &gt; 0 ,
The node index corresponding to the first element of <em>r_i</em> is
the index corresponding to the first element of <em>r_</em> { <em>i-1</em> } plus
the number of results for the <em>i-1</em>-th operator.</p>
</section>
</section>
<section id="format">
<span id="json-ad-graph-format"></span><span id="index-7"></span><h3><a class="toc-backref" href="#id8">Format</a><a class="headerlink" href="#format" title="Permalink to this headline"></a></h3>
<p>A complete description of the format for an AD graph is given below.
For a general description of Json format see
<a class="reference external" href="https://en.wikipedia.org/wiki/JSON#Data_types_and_syntax">Json data types and syntax</a>.</p>
</section>
<section id="token">
<span id="json-ad-graph-token"></span><span id="index-8"></span><h3><a class="toc-backref" href="#id9">Token</a><a class="headerlink" href="#token" title="Permalink to this headline"></a></h3>
<section id="white-space">
<span id="json-ad-graph-token-white-space"></span><span id="index-9"></span><h4><a class="toc-backref" href="#id10">White Space</a><a class="headerlink" href="#white-space" title="Permalink to this headline"></a></h4>
<p>Any sequence of white space, except within a string,
terminates the current token and is otherwise ignored.</p>
</section>
<section id="non-negative-integer">
<span id="json-ad-graph-token-non-negative-integer"></span><span id="index-10"></span><h4><a class="toc-backref" href="#id11">Non-Negative Integer</a><a class="headerlink" href="#non-negative-integer" title="Permalink to this headline"></a></h4>
<p>A non-negative integer is a non-empty sequence of the following
characters: <code class="docutils literal notranslate"><span class="pre">0123456789</span></code> .</p>
</section>
<section id="floating-point-number">
<span id="json-ad-graph-token-floating-point-number"></span><span id="index-11"></span><h4><a class="toc-backref" href="#id12">Floating Point Number</a><a class="headerlink" href="#floating-point-number" title="Permalink to this headline"></a></h4>
<p>A floating point number is a non-empty sequence of the following
characters: <code class="docutils literal notranslate"><span class="pre">0123456789+-eE.</span></code> .
Note that there can’t be any white space between a leading plus
or minus sign and the rest of the number.</p>
</section>
<section id="string">
<span id="json-ad-graph-token-string"></span><span id="index-12"></span><h4><a class="toc-backref" href="#id13">String</a><a class="headerlink" href="#string" title="Permalink to this headline"></a></h4>
<p>A string starts with the double quote character <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>
and includes all the characters until the next double quote.
The value of a string is the sequence of characters between the
double quotes.
Currently there is no support using the double quote
as part of the value of a string.</p>
</section>
<section id="single-character">
<span id="json-ad-graph-token-single-character"></span><span id="index-13"></span><h4><a class="toc-backref" href="#id14">Single Character</a><a class="headerlink" href="#single-character" title="Permalink to this headline"></a></h4>
<p>The following is a list of the single character tokens:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Token</p></td>
<td><p>Usage</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">,</span></code></p></td>
<td><p>separates entries in a list</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">:</span></code></p></td>
<td><p>separates name from corresponding value</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{</span></code></p></td>
<td><p>starts a list of name <code class="docutils literal notranslate"><span class="pre">:</span></code> value pairs</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">}</span></code></p></td>
<td><p>ends a list of name <code class="docutils literal notranslate"><span class="pre">:</span></code> value pairs</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[</span></code></p></td>
<td><p>starts a list of values</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">]</span></code></p></td>
<td><p>ends a list of values</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="op-define-vec">
<span id="json-ad-graph-op-define-vec"></span><span id="index-14"></span><h3><a class="toc-backref" href="#id15">op_define_vec</a><a class="headerlink" href="#op-define-vec" title="Permalink to this headline"></a></h3>
<p>This vector has the following Json format:</p>
<blockquote>
<div><p>[ <em>n_define</em> , [ <em>first_op_define</em> , …, <em>last_op_define</em>  ] ]</p>
</div></blockquote>
<p>where the non-negative integer <em>n_define</em>
is the number of operator definitions in this vector.</p>
<section id="op-define">
<span id="json-ad-graph-op-define-vec-op-define"></span><span id="index-15"></span><h4><a class="toc-backref" href="#id16">op_define</a><a class="headerlink" href="#op-define" title="Permalink to this headline"></a></h4>
<p>The possible operator definitions <em>op_define</em> are listed in
section <a class="reference internal" href="json_graph_op.html#json-graph-op-name"><span class="std std-ref">json_graph_op</span></a> .
If an operator has a fixed number of arguments, one result, and
only node indices for arguments, its definition has the form</p>
<div class="line-block">
<div class="line">{</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;op_code&quot;</span></code> : <em>op_code</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span></code> : <em>name</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;n_arg&quot;</span></code> : <em>n_arg</em></div>
<div class="line">}</div>
</div>
<p>Otherwise the operator definition has the form</p>
<div class="line-block">
<div class="line">{</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;op_code&quot;</span></code> : <em>op_code</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span></code> : <em>name</em></div>
<div class="line">}</div>
</div>
<p>For example, the following is the <em>op_define</em> corresponding to the
<a class="reference internal" href="json_graph_op.html#json-graph-op-binary-operators-add"><span class="std std-ref">add</span></a> operator:</p>
<div class="line-block">
<div class="line">{</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;op_code&quot;</span></code> : <em>op_code</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span></code> : <code class="docutils literal notranslate"><span class="pre">&quot;add&quot;</span></code> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;n_arg&quot;</span></code> :        2</div>
<div class="line">}</div>
</div>
</section>
<section id="op-code">
<span id="json-ad-graph-op-define-vec-op-code"></span><span id="index-16"></span><h4><a class="toc-backref" href="#id17">op_code</a><a class="headerlink" href="#op-code" title="Permalink to this headline"></a></h4>
<p>Note that every operator definition has a <em>op_code</em> value.
These values must start at one and increment by one for each operator
definition; i.e., the <em>op_code</em> for in <em>first_op_define</em> is
<code class="docutils literal notranslate"><span class="pre">1</span></code> , the value in the next definition is <code class="docutils literal notranslate"><span class="pre">2</span></code> , and so on.
The order of the definitions determines the <em>op_code</em> values
used to specify operators for this computational graph.</p>
</section>
<section id="n-arg">
<span id="json-ad-graph-op-define-vec-n-arg"></span><span id="index-17"></span><h4><a class="toc-backref" href="#id18">n_arg</a><a class="headerlink" href="#n-arg" title="Permalink to this headline"></a></h4>
<p>This is the number of argument values for the operator; i.e.,
the dimension of its domain space.
If it is present in an operator definition,
it is the same value for every usage of the operator.
Otherwise it is specified by the operator usage.</p>
</section>
<section id="n-result">
<span id="json-ad-graph-op-define-vec-n-result"></span><span id="index-18"></span><h4><a class="toc-backref" href="#id19">n_result</a><a class="headerlink" href="#n-result" title="Permalink to this headline"></a></h4>
<p>This is the number of results for the operator; i.e.,
the dimension of its range space.
If <em>n_arg</em> is present in an operator definition,
<em>n_result</em> is one for every usage of the operator.
Otherwise it is specified by the operator usage.</p>
</section>
</section>
<section id="op-usage">
<span id="json-ad-graph-op-usage"></span><span id="index-19"></span><h3><a class="toc-backref" href="#id20">op_usage</a><a class="headerlink" href="#op-usage" title="Permalink to this headline"></a></h3>
<p>Each operation usage
has the following information:</p>
<section id="n-arg-in-definition">
<span id="json-ad-graph-op-usage-n-arg-in-definition"></span><span id="index-20"></span><h4><a class="toc-backref" href="#id21">n_arg In Definition</a><a class="headerlink" href="#n-arg-in-definition" title="Permalink to this headline"></a></h4>
<p>If <em>n_arg</em> is present in an operator definition,
it is not in a corresponding <em>op_usage</em> which as the form</p>
<blockquote>
<div><p>[ <em>op_code</em> , <em>first_arg</em> , …, <em>last_arg</em>  ]</p>
</div></blockquote>
</section>
<section id="n-arg-not-in-definition">
<span id="json-ad-graph-op-usage-n-arg-not-in-definition"></span><span id="index-21"></span><h4><a class="toc-backref" href="#id22">n_arg Not In Definition</a><a class="headerlink" href="#n-arg-not-in-definition" title="Permalink to this headline"></a></h4>
<p>If <em>n_arg</em> is not in an operator definition,
it is in a corresponding <em>op_usage</em> .
If there are no strings in a corresponding usage, it has the form</p>
<blockquote>
<div><p>[ <em>op_code</em> , <em>n_result</em> , <em>n_arg</em> , [ <em>first_arg</em> , …, <em>last_arg</em>  ] ]</p>
</div></blockquote>
</section>
<section id="strings-in-usage">
<span id="json-ad-graph-op-usage-strings-in-usage"></span><span id="index-22"></span><h4><a class="toc-backref" href="#id23">Strings In Usage</a><a class="headerlink" href="#strings-in-usage" title="Permalink to this headline"></a></h4>
<p>If <em>n_arg</em> is not in an operator definition,
and there are strings in a corresponding usage,
a corresponding usage has the form</p>
<div class="line-block">
<div class="line">      [ <em>op_code</em> , <em>first_str</em> , …, <em>last_str</em> , <em>n_result</em> , <em>n_arg</em> ,</div>
<div class="line">            [ <em>first_arg</em> , …, <em>last_arg</em>  ]</div>
<div class="line">      ]</div>
</div>
<p>where <em>first_str</em> …, <em>last_str</em> ,
are a fixed number of strings that are part of the corresponding operator.</p>
</section>
<section id="first-arg-last-arg">
<span id="json-ad-graph-op-usage-first-arg-last-arg"></span><span id="index-23"></span><h4><a class="toc-backref" href="#id24">first_arg, …, last_arg</a><a class="headerlink" href="#first-arg-last-arg" title="Permalink to this headline"></a></h4>
<p>The values <em>first_arg</em> , …, <em>last_arg</em> ,
are the node indices corresponding to each of the arguments for this operator.
They must be less than the node index corresponding to the first
result for this operator; see
<a class="reference internal" href="#json-ad-graph-node-indices-r-i"><span class="std std-ref">r_i</span></a> above.
They specify which previous results (results before this operator in the graph)
correspond to each of the arguments to this operator.
As a consequence, there cannot be any cycles in the graph where
the operators are represented by arcs from the argument to the result nodes;
i.e., the graph is acyclic.</p>
</section>
</section>
<section id="dynamic-ind-vec">
<span id="json-ad-graph-dynamic-ind-vec"></span><span id="index-24"></span><h3><a class="toc-backref" href="#id25">dynamic_ind_vec</a><a class="headerlink" href="#dynamic-ind-vec" title="Permalink to this headline"></a></h3>
<p>This is the independent dynamic parameter vector
(called <em>p</em> above); see
<a class="reference internal" href="Independent.html#independent-dynamic"><span class="std std-ref">dynamic</span></a> .
The function can depend on these parameters,
but no derivatives are computed with respect to these parameters.</p>
<section id="n-dynamic-ind">
<span id="json-ad-graph-dynamic-ind-vec-n-dynamic-ind"></span><span id="index-25"></span><h4><a class="toc-backref" href="#id26">n_dynamic_ind</a><a class="headerlink" href="#n-dynamic-ind" title="Permalink to this headline"></a></h4>
<p>We use the non-negative integer <em>n_dynamic_ind</em>
for the number of elements in this vector
(called <em>np</em> above).</p>
</section>
</section>
<section id="variable-ind-vec">
<span id="json-ad-graph-variable-ind-vec"></span><span id="index-26"></span><h3><a class="toc-backref" href="#id27">variable_ind_vec</a><a class="headerlink" href="#variable-ind-vec" title="Permalink to this headline"></a></h3>
<p>This is the independent variable vector
(called <em>x</em> above); see
<a class="reference internal" href="Independent.html#independent-x"><span class="std std-ref">x</span></a> .
The function can depend on these variable and
derivatives can be computed  with respect to these variables.</p>
<section id="n-variable-ind">
<span id="json-ad-graph-variable-ind-vec-n-variable-ind"></span><span id="index-27"></span><h4><a class="toc-backref" href="#id28">n_variable_ind</a><a class="headerlink" href="#n-variable-ind" title="Permalink to this headline"></a></h4>
<p>We use the non-negative integer <em>n_variable_ind</em>
for the number of element in this vector
(called <em>nx</em> above).</p>
</section>
</section>
<section id="constant-vec">
<span id="json-ad-graph-constant-vec"></span><span id="index-28"></span><h3><a class="toc-backref" href="#id29">constant_vec</a><a class="headerlink" href="#constant-vec" title="Permalink to this headline"></a></h3>
<p>This is the constant parameter vector (called <em>c</em> above).
These parameters can be used to define the function and cannot change.
The Json format for <em>constant_vec</em> is</p>
<blockquote>
<div><p>[ <em>n_constant</em> , [ <em>first_constant</em> , …, <em>last_constant</em>  ] ]</p>
</div></blockquote>
<p>Each of the elements of this vector,
e.g., <em>first_constant</em> ,
is a <a class="reference internal" href="#json-ad-graph-token-floating-point-number"><span class="std std-ref">Floating Point Number</span></a>
specifying the value for the corresponding node.</p>
<section id="n-constant">
<span id="json-ad-graph-constant-vec-n-constant"></span><span id="index-29"></span><h4><a class="toc-backref" href="#id30">n_constant</a><a class="headerlink" href="#n-constant" title="Permalink to this headline"></a></h4>
<p>The non-negative integer <em>n_constant</em>
is the number of elements in this vector
(called <em>nc</em> above).</p>
</section>
</section>
<section id="op-usage-vec">
<span id="json-ad-graph-op-usage-vec"></span><span id="index-30"></span><h3><a class="toc-backref" href="#id31">op_usage_vec</a><a class="headerlink" href="#op-usage-vec" title="Permalink to this headline"></a></h3>
<p>The Jason format for an <em>op_usage_vec</em> is</p>
<blockquote>
<div><p>[ <em>n_usage</em> , [ <em>first_op_usage</em> , …, <em>last_op_usage</em>  ] ]</p>
</div></blockquote>
<p>Each of the elements of this vector,
e.g. <em>first_op_usage</em> ,
is an <a class="reference internal" href="#json-ad-graph-op-usage"><span class="std std-ref">op_usage</span></a> .</p>
<section id="n-usage">
<span id="json-ad-graph-op-usage-vec-n-usage"></span><span id="index-31"></span><h4><a class="toc-backref" href="#id32">n_usage</a><a class="headerlink" href="#n-usage" title="Permalink to this headline"></a></h4>
<p>The non-negative integer <em>n_usage</em>
is the number of operator usages (called <em>no</em> above).</p>
</section>
</section>
<section id="dependent-vec">
<span id="json-ad-graph-dependent-vec"></span><span id="index-32"></span><h3><a class="toc-backref" href="#id33">dependent_vec</a><a class="headerlink" href="#dependent-vec" title="Permalink to this headline"></a></h3>
<p>This is the vector of dependent variable node indices.
This identifies which nodes in the graph correspond to dependent variables.
The Json format for <em>dependent_vec</em> is</p>
<blockquote>
<div><p>[ <em>n_dependent</em> , [ <em>first_dependent</em> , …, <em>last_dependent</em>  ] ]</p>
</div></blockquote>
<p>Each of the elements of this vector,
e.g. <em>first_dependent</em> ,
is a <a class="reference internal" href="#json-ad-graph-token-non-negative-integer"><span class="std std-ref">Non-Negative Integer</span></a>
corresponding to a node index in the graph.</p>
<section id="n-dependent">
<span id="json-ad-graph-dependent-vec-n-dependent"></span><span id="index-33"></span><h4><a class="toc-backref" href="#id34">n_dependent</a><a class="headerlink" href="#n-dependent" title="Permalink to this headline"></a></h4>
<p>The non-negative integer <em>n_dependent</em>
is the number of elements in this vector.</p>
</section>
</section>
<section id="ad-graph">
<span id="json-ad-graph-ad-graph"></span><span id="index-34"></span><h3><a class="toc-backref" href="#id35">AD Graph</a><a class="headerlink" href="#ad-graph" title="Permalink to this headline"></a></h3>
<p>Each operator corresponds to a set of arcs from its argument nodes
to its result nodes.
The graph is acyclic; see
<a class="reference internal" href="#json-ad-graph-op-usage-first-arg-last-arg"><span class="std std-ref">first_arg, …, last_arg</span></a> .</p>
<section id="function-name">
<span id="json-ad-graph-ad-graph-function-name"></span><span id="index-35"></span><h4><a class="toc-backref" href="#id36">function_name</a><a class="headerlink" href="#function-name" title="Permalink to this headline"></a></h4>
<p>A <em>function_name</em> is a
<a class="reference internal" href="#json-ad-graph-token-string"><span class="std std-ref">String</span></a> that is used to identify
the function.</p>
</section>
<section id="function">
<span id="json-ad-graph-ad-graph-function"></span><span id="index-36"></span><h4><a class="toc-backref" href="#id37">function</a><a class="headerlink" href="#function" title="Permalink to this headline"></a></h4>
<p>The Json AD graph representation of a function is</p>
<div class="line-block">
<div class="line">{</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;function_name&quot;</span></code> : <em>function_name</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;op_define_vec&quot;</span></code> : <em>op_define_vec</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;n_dynamic_ind&quot;</span></code> : <em>n_dynamic_ind</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;n_variable_ind&quot;</span></code> : <em>n_variable_ind</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;constant_vec&quot;</span></code> : <em>constant_vec</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;op_usage_vec&quot;</span></code> : <em>op_usage_vec</em> ,</div>
<div class="line">      <code class="docutils literal notranslate"><span class="pre">&quot;dependent_vec&quot;</span></code> : <em>dependent_vec</em></div>
<div class="line">}</div>
</div>
<p>This represents a the <span class="math notranslate nohighlight">\(y = f(x, p)\)</span> where
<span class="math notranslate nohighlight">\(p\)</span> is the dynamic parameter vector,
<span class="math notranslate nohighlight">\(x\)</span> is the independent variable vector, and
<span class="math notranslate nohighlight">\(y\)</span> is the dependent variable vector.</p>
</section>
</section>
<section id="json-ad-graph-contents">
<span id="index-37"></span><span id="id1"></span><h3><a class="toc-backref" href="#id38">Contents</a><a class="headerlink" href="#json-ad-graph-contents" title="Permalink to this headline"></a></h3>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Child</p></th>
<th class="head"><p>Title</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>json_graph_op</p></td>
<td><p><a class="reference internal" href="json_graph_op.html#json-graph-op-title"><span class="std std-ref">Json AD Graph Operator Definitions</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>from_json</p></td>
<td><p><a class="reference internal" href="from_json.html#from-json-title"><span class="std std-ref">ADFun Object Corresponding to a Json AD Graph</span></a></p></td>
</tr>
<tr class="row-even"><td><p>to_json</p></td>
<td><p><a class="reference internal" href="to_json.html#to-json-title"><span class="std std-ref">Json AD Graph Corresponding to an ADFun Object</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>json_get_started.cpp</p></td>
<td><p><a class="reference internal" href="json_get_started.cpp.html#json-get-started-cpp-title"><span class="std std-ref">Json Get Started: Example and Test</span></a></p></td>
</tr>
<tr class="row-even"><td><p>json_sparse.cpp</p></td>
<td><p><a class="reference internal" href="json_sparse.cpp.html#json-sparse-cpp-title"><span class="std std-ref">Json Representation of a Sparse Matrix: Example and Test</span></a></p></td>
</tr>
</tbody>
</table>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="base2vec_ad.cpp.html" class="btn btn-neutral float-left" title="base2vec_ad.cpp" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="json_graph_op.html" class="btn btn-neutral float-right" title="json_graph_op" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>