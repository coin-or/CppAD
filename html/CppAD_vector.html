<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="CppAD_vector, the, cppad::vector, template, class" name="keywords" />
<meta content="syntax" name="keywords" />
<meta content="description" name="keywords" />
<meta content="include" name="keywords" />
<meta content="deprecated, 2019-08-19" name="keywords" />
<meta content="integer, size" name="keywords" />
<meta content="capacity" name="keywords" />
<meta content="swap" name="keywords" />
<meta content="assignment" name="keywords" />
<meta content="check, size" name="keywords" />
<meta content="return, reference" name="keywords" />
<meta content="move, semantics" name="keywords" />
<meta content="element, access" name="keywords" />
<meta content="i" name="keywords" />
<meta content="error, checking" name="keywords" />
<meta content="push_back" name="keywords" />
<meta content="push_vector" name="keywords" />
<meta content="output" name="keywords" />
<meta content="resize" name="keywords" />
<meta content="data" name="keywords" />
<meta content="memory" name="keywords" />
<meta content="clear" name="keywords" />
<meta content="data" name="keywords" />
<meta content="iterators" name="keywords" />
<meta content="syntax" name="keywords" />
<meta content="itr" name="keywords" />
<meta content="citr" name="keywords" />
<meta content="begin" name="keywords" />
<meta content="end" name="keywords" />
<meta content="operator[]" name="keywords" />
<meta content="error, checking" name="keywords" />
<meta content="vectorbool" name="keywords" />
<meta content="memory" name="keywords" />
<meta content="bit_per_unit" name="keywords" />
<meta content="data" name="keywords" />
<meta content="iterators" name="keywords" />
<meta content="output" name="keywords" />
<meta content="element, type" name="keywords" />
<meta content="memory, and, parallel, mode" name="keywords" />
<meta content="example" name="keywords" />
<meta content="exercise" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CppAD_vector &mdash; cppad  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="cppad_vector.cpp" href="cppad_vector.cpp.html" />
    <link rel="prev" title="ode_gear_control.cpp" href="ode_gear_control.cpp.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="xrst_root_doc.html" class="icon icon-home"> cppad
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="xrst_table_of_contents.html">Table of Contents</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="CppAD.html">CppAD</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Install.html">Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="Theory.html">Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="AD.html">AD</a></li>
<li class="toctree-l2"><a class="reference internal" href="ADFun.html">ADFun</a></li>
<li class="toctree-l2"><a class="reference internal" href="preprocessor.html">preprocessor</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi_thread.html">multi_thread</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="utility.html">utility</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="CheckNumericType.html">CheckNumericType</a></li>
<li class="toctree-l3"><a class="reference internal" href="CheckSimpleVector.html">CheckSimpleVector</a></li>
<li class="toctree-l3"><a class="reference internal" href="create_dll_lib.html">create_dll_lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="ErrorHandler.html">ErrorHandler</a></li>
<li class="toctree-l3"><a class="reference internal" href="index_sort.html">index_sort</a></li>
<li class="toctree-l3"><a class="reference internal" href="link_dll_lib.html">link_dll_lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="nan.html">nan</a></li>
<li class="toctree-l3"><a class="reference internal" href="NearEqual.html">NearEqual</a></li>
<li class="toctree-l3"><a class="reference internal" href="OdeErrControl.html">OdeErrControl</a></li>
<li class="toctree-l3"><a class="reference internal" href="OdeGear.html">OdeGear</a></li>
<li class="toctree-l3"><a class="reference internal" href="OdeGearControl.html">OdeGearControl</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">CppAD_vector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cppad_vector.cpp.html">cppad_vector.cpp</a></li>
<li class="toctree-l4"><a class="reference internal" href="vector_bool.cpp.html">vector_bool.cpp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Poly.html">Poly</a></li>
<li class="toctree-l3"><a class="reference internal" href="pow_int.html">pow_int</a></li>
<li class="toctree-l3"><a class="reference internal" href="RombergMul.html">RombergMul</a></li>
<li class="toctree-l3"><a class="reference internal" href="RombergOne.html">RombergOne</a></li>
<li class="toctree-l3"><a class="reference internal" href="Rosen34.html">Rosen34</a></li>
<li class="toctree-l3"><a class="reference internal" href="Runge45.html">Runge45</a></li>
<li class="toctree-l3"><a class="reference internal" href="set_union.html">set_union</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparse2eigen.html">sparse2eigen</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparse_rc.html">sparse_rc</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparse_rcv.html">sparse_rcv</a></li>
<li class="toctree-l3"><a class="reference internal" href="speed_test.html">speed_test</a></li>
<li class="toctree-l3"><a class="reference internal" href="SpeedTest.html">SpeedTest</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_boolofvoid.html">test_boolofvoid</a></li>
<li class="toctree-l3"><a class="reference internal" href="time_test.html">time_test</a></li>
<li class="toctree-l3"><a class="reference internal" href="to_string.html">to_string</a></li>
<li class="toctree-l3"><a class="reference internal" href="lu_det_and_solve.html">lu_det_and_solve</a></li>
<li class="toctree-l3"><a class="reference internal" href="NumericType.html">NumericType</a></li>
<li class="toctree-l3"><a class="reference internal" href="SimpleVector.html">SimpleVector</a></li>
<li class="toctree-l3"><a class="reference internal" href="thread_alloc.html">thread_alloc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ipopt_solve.html">ipopt_solve</a></li>
<li class="toctree-l2"><a class="reference internal" href="Example.html">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="speed.html">speed</a></li>
<li class="toctree-l2"><a class="reference internal" href="Appendix.html">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="xrst_index.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="xrst_root_doc.html">cppad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="xrst_root_doc.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="CppAD.html">CppAD</a> &raquo;</li>
          <li><a href="utility.html">utility</a> &raquo;</li>
      <li>CppAD_vector</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/CppAD_vector.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p class="hidden"><span class="math notranslate nohighlight">\(\newcommand{\W}[1]{ \; #1 \; }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\R}[1]{ {\rm #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\B}[1]{ {\bf #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\D}[2]{ \frac{\partial #1}{\partial #2} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\DD}[3]{ \frac{\partial^2 #1}{\partial #2 \partial #3} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\Dpow}[2]{ \frac{\partial^{#1}}{\partial  {#2}^{#1}} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\dpow}[2]{ \frac{ {\rm d}^{#1}}{{\rm d}\, {#2}^{#1}} }\)</span></p>
<section id="cppad-vector">
<span id="cppad-vector-name"></span><h1>CppAD_vector<a class="headerlink" href="#cppad-vector" title="Permalink to this headline"></a></h1>
<section id="the-cppad-vector-template-class">
<span id="cppad-vector-title"></span><span id="index-0"></span><h2>The CppAD::vector Template Class<a class="headerlink" href="#the-cppad-vector-template-class" title="Permalink to this headline"></a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#syntax" id="id8">Syntax</a></p></li>
<li><p><a class="reference internal" href="#description" id="id9">Description</a></p></li>
<li><p><a class="reference internal" href="#include" id="id10">Include</a></p>
<ul>
<li><p><a class="reference internal" href="#deprecated-2019-08-19" id="id11">Deprecated 2019-08-19</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#integer-size" id="id12">Integer Size</a></p></li>
<li><p><a class="reference internal" href="#capacity" id="id13">capacity</a></p></li>
<li><p><a class="reference internal" href="#swap" id="id14">swap</a></p></li>
<li><p><a class="reference internal" href="#assignment" id="id15">Assignment</a></p>
<ul>
<li><p><a class="reference internal" href="#check-size" id="id16">Check Size</a></p></li>
<li><p><a class="reference internal" href="#return-reference" id="id17">Return Reference</a></p></li>
<li><p><a class="reference internal" href="#move-semantics" id="id18">Move Semantics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#element-access" id="id19">Element Access</a></p>
<ul>
<li><p><a class="reference internal" href="#i" id="id20">i</a></p></li>
<li><p><a class="reference internal" href="#error-checking" id="id21">Error Checking</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#push-back" id="id22">push_back</a></p></li>
<li><p><a class="reference internal" href="#push-vector" id="id23">push_vector</a></p></li>
<li><p><a class="reference internal" href="#output" id="id24">Output</a></p></li>
<li><p><a class="reference internal" href="#resize" id="id25">resize</a></p>
<ul>
<li><p><a class="reference internal" href="#data" id="id26">data</a></p></li>
<li><p><a class="reference internal" href="#memory" id="id27">memory</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#clear" id="id28">clear</a></p></li>
<li><p><a class="reference internal" href="#cppad-vector-data" id="id29">data</a></p></li>
<li><p><a class="reference internal" href="#iterators" id="id30">Iterators</a></p>
<ul>
<li><p><a class="reference internal" href="#cppad-vector-iterators-syntax" id="id31">Syntax</a></p></li>
<li><p><a class="reference internal" href="#itr" id="id32">itr</a></p></li>
<li><p><a class="reference internal" href="#citr" id="id33">citr</a></p></li>
<li><p><a class="reference internal" href="#begin" id="id34">begin</a></p></li>
<li><p><a class="reference internal" href="#end" id="id35">end</a></p></li>
<li><p><a class="reference internal" href="#operator" id="id36">operator[]</a></p></li>
<li><p><a class="reference internal" href="#cppad-vector-iterators-error-checking" id="id37">Error Checking</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vectorbool" id="id38">vectorBool</a></p>
<ul>
<li><p><a class="reference internal" href="#cppad-vector-vectorbool-memory" id="id39">Memory</a></p></li>
<li><p><a class="reference internal" href="#bit-per-unit" id="id40">bit_per_unit</a></p></li>
<li><p><a class="reference internal" href="#cppad-vector-vectorbool-data" id="id41">data</a></p></li>
<li><p><a class="reference internal" href="#cppad-vector-vectorbool-iterators" id="id42">Iterators</a></p></li>
<li><p><a class="reference internal" href="#cppad-vector-vectorbool-output" id="id43">Output</a></p></li>
<li><p><a class="reference internal" href="#element-type" id="id44">Element Type</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#memory-and-parallel-mode" id="id45">Memory and Parallel Mode</a></p></li>
<li><p><a class="reference internal" href="#example" id="id46">Example</a></p></li>
<li><p><a class="reference internal" href="#exercise" id="id47">Exercise</a></p></li>
</ul>
</div>
<section id="syntax">
<span id="cppad-vector-syntax"></span><span id="index-1"></span><h3><a class="toc-backref" href="#id8">Syntax</a><a class="headerlink" href="#syntax" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line"># <code class="docutils literal notranslate"><span class="pre">include</span> <span class="pre">&lt;cppad/utility/vector.hpp&gt;</span></code></div>
<div class="line"># <code class="docutils literal notranslate"><span class="pre">include</span> <span class="pre">&lt;cppad/utility/vector_bool.hpp&gt;</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">CppAD::vector&lt;</span></code> <em>Scalar</em> &gt; <em>vec</em> , <em>other</em></div>
</div>
</section>
<section id="description">
<span id="cppad-vector-description"></span><span id="index-2"></span><h3><a class="toc-backref" href="#id9">Description</a><a class="headerlink" href="#description" title="Permalink to this headline"></a></h3>
<p>The include file <code class="docutils literal notranslate"><span class="pre">cppad/vector.hpp</span></code> defines the
vector template class <code class="docutils literal notranslate"><span class="pre">CppAD::vector</span></code> .
This is a <a class="reference internal" href="SimpleVector.html#simplevector-name"><span class="std std-ref">SimpleVector</span></a> template class and in addition
it has the features listed below.
The purposes for this template vector class are as follows:</p>
<ol class="arabic simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> is not defined, it checks for all
memory accesses to make sure the corresponding index is valid.
This includes when using its
<a class="reference internal" href="#cppad-vector-iterators"><span class="std std-ref">Iterators</span></a></p></li>
<li><p>It has a simple set of private member variables that make it
easy to understand when viewing its values in a C++ debugger.</p></li>
<li><p>It uses the <a class="reference internal" href="thread_alloc.html#thread-alloc-name"><span class="std std-ref">thread_alloc</span></a> memory allocator which makes it fast
in a multi-threading environment; see
<a class="reference internal" href="#cppad-vector-memory-and-parallel-mode"><span class="std std-ref">Memory and Parallel Mode</span></a> .</p></li>
<li><p>The operations it has are like the corresponding <code class="docutils literal notranslate"><span class="pre">std::vector</span></code>
operation so it is easy to use.</p></li>
</ol>
</section>
<section id="include">
<span id="cppad-vector-include"></span><span id="index-3"></span><h3><a class="toc-backref" href="#id10">Include</a><a class="headerlink" href="#include" title="Permalink to this headline"></a></h3>
<p>The files
<code class="docutils literal notranslate"><span class="pre">cppad/utility/vector.hpp</span></code> and <code class="docutils literal notranslate"><span class="pre">cppad/utility/vector_bool.hpp</span></code> are
included by <code class="docutils literal notranslate"><span class="pre">cppad/cppad.hpp</span></code> .
They can also be included separately with out the rest of the
CppAD include files.</p>
<section id="deprecated-2019-08-19">
<span id="cppad-vector-include-deprecated-2019-08-19"></span><span id="index-4"></span><h4><a class="toc-backref" href="#id11">Deprecated 2019-08-19</a><a class="headerlink" href="#deprecated-2019-08-19" title="Permalink to this headline"></a></h4>
<p>The file <code class="docutils literal notranslate"><span class="pre">cppad/utility/vector.hpp</span></code>
includes the <code class="docutils literal notranslate"><span class="pre">cppad/utility/vector_bool.hpp</span></code>
because they used to be one file.
If you want <a class="reference internal" href="#cppad-vector-vectorbool"><span class="std std-ref">vectorBool</span></a> ,
and not the rest of CppAD, you should include
<code class="docutils literal notranslate"><span class="pre">cppad/utility/vector_bool.hpp</span></code> .</p>
</section>
</section>
<section id="integer-size">
<span id="cppad-vector-integer-size"></span><span id="index-5"></span><h3><a class="toc-backref" href="#id12">Integer Size</a><a class="headerlink" href="#integer-size" title="Permalink to this headline"></a></h3>
<p>The size <em>n</em> in the constructor syntax below can be an
<code class="docutils literal notranslate"><span class="pre">int</span></code> (all simple vectors support <code class="docutils literal notranslate"><span class="pre">size_t</span></code> ):</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">CppAD::vector&lt;</span></code> <em>Scalar</em> &gt; <em>vec</em> ( <em>n</em> )</p>
</div></blockquote>
</section>
<section id="capacity">
<span id="cppad-vector-capacity"></span><span id="index-6"></span><h3><a class="toc-backref" href="#id13">capacity</a><a class="headerlink" href="#capacity" title="Permalink to this headline"></a></h3>
<p>If <em>cap</em> is a <code class="docutils literal notranslate"><span class="pre">size_t</span></code> object,</p>
<blockquote>
<div><p><em>cap</em> = <em>vec</em> . <code class="docutils literal notranslate"><span class="pre">capacity</span></code> ()</p>
</div></blockquote>
<p>set <em>cap</em> to the number of <em>Scalar</em> objects that
could fit in the memory currently allocated for <em>vec</em> .
Note that</p>
<blockquote>
<div><p><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">size</span></code> () &lt;= <em>vec</em> . <code class="docutils literal notranslate"><span class="pre">capacity</span></code> ()</p>
</div></blockquote>
</section>
<section id="swap">
<span id="cppad-vector-swap"></span><span id="index-7"></span><h3><a class="toc-backref" href="#id14">swap</a><a class="headerlink" href="#swap" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">swap</span></code> ( <em>other</em> )</p>
</div></blockquote>
<p>exchanges the contents of <em>vec</em> and <em>other</em> .
For example <a class="reference internal" href="#cppad-vector-data"><span class="std std-ref">vec.data()</span></a> after the <code class="docutils literal notranslate"><span class="pre">swap</span></code>
is equal to <em>other</em> . <code class="docutils literal notranslate"><span class="pre">data</span></code> () before <code class="docutils literal notranslate"><span class="pre">swap</span></code> .</p>
</section>
<section id="assignment">
<span id="cppad-vector-assignment"></span><span id="index-8"></span><h3><a class="toc-backref" href="#id15">Assignment</a><a class="headerlink" href="#assignment" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p><em>vec</em> = <em>other</em></p>
</div></blockquote>
<p>has all the properties listed for a
<a class="reference internal" href="SimpleVector.html#simplevector-assignment"><span class="std std-ref">simple vector assignment</span></a>
plus the following:</p>
<section id="check-size">
<span id="cppad-vector-assignment-check-size"></span><span id="index-9"></span><h4><a class="toc-backref" href="#id16">Check Size</a><a class="headerlink" href="#check-size" title="Permalink to this headline"></a></h4>
<p>It is no longer necessary for <em>vec</em> to have the
same size as <em>other</em> .
This makes <code class="docutils literal notranslate"><span class="pre">CppAD::vector</span></code> more like <code class="docutils literal notranslate"><span class="pre">std::vector</span></code> .</p>
</section>
<section id="return-reference">
<span id="cppad-vector-assignment-return-reference"></span><span id="index-10"></span><h4><a class="toc-backref" href="#id17">Return Reference</a><a class="headerlink" href="#return-reference" title="Permalink to this headline"></a></h4>
<p>A reference to the vector <em>vec</em> is returned.
An example use of this reference is in multiple assignments of the form</p>
<blockquote>
<div><p><em>vec</em> = <em>other</em> = <em>another</em></p>
</div></blockquote>
<p>where <em>another</em> is a <code class="docutils literal notranslate"><span class="pre">CppAD::vector&lt;</span></code> <em>Scalar</em> &gt; object.</p>
</section>
<section id="move-semantics">
<span id="cppad-vector-assignment-move-semantics"></span><span id="index-11"></span><h4><a class="toc-backref" href="#id18">Move Semantics</a><a class="headerlink" href="#move-semantics" title="Permalink to this headline"></a></h4>
<p>If the C++ compiler supports move semantic rvalues using the <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>
syntax, then it will be used during the vector assignment statement.
This means that return values and other temporaries are not be copied,
but rather pointers are transferred.</p>
</section>
</section>
<section id="element-access">
<span id="cppad-vector-element-access"></span><span id="index-12"></span><h3><a class="toc-backref" href="#id19">Element Access</a><a class="headerlink" href="#element-access" title="Permalink to this headline"></a></h3>
<p>If <em>i</em> has type <code class="docutils literal notranslate"><span class="pre">size_t</span></code> ,</p>
<blockquote>
<div><p><em>vec</em> [ <em>i</em> ]</p>
</div></blockquote>
<p>has all the properties listed for a
<a class="reference internal" href="SimpleVector.html#simplevector-element-access"><span class="std std-ref">simple vector element access</span></a>
plus the following:</p>
<section id="i">
<span id="cppad-vector-element-access-i"></span><span id="index-13"></span><h4><a class="toc-backref" href="#id20">i</a><a class="headerlink" href="#i" title="Permalink to this headline"></a></h4>
<p>This operation is defined for any <em>i</em>
that has a conversion to <code class="docutils literal notranslate"><span class="pre">size_t</span></code> .
The object <em>vec</em> [ <em>i</em> ] has type <em>Scalar</em>
(is not possibly a different type that can be converted to <em>Scalar</em> ).</p>
</section>
<section id="error-checking">
<span id="cppad-vector-element-access-error-checking"></span><span id="index-14"></span><h4><a class="toc-backref" href="#id21">Error Checking</a><a class="headerlink" href="#error-checking" title="Permalink to this headline"></a></h4>
<p>If <em>i</em> is not less than the size of the <em>vec</em> ,
and <code class="docutils literal notranslate"><span class="pre">NDEBUUG</span></code> is not defined,
<code class="docutils literal notranslate"><span class="pre">CppAD::vector</span></code> will use
<a class="reference internal" href="ErrorHandler.html#errorhandler-name"><span class="std std-ref">ErrorHandler</span></a>
to generate an appropriate error report.</p>
</section>
</section>
<section id="push-back">
<span id="cppad-vector-push-back"></span><span id="index-15"></span><h3><a class="toc-backref" href="#id22">push_back</a><a class="headerlink" href="#push-back" title="Permalink to this headline"></a></h3>
<p>If <em>vec</em> has size <em>n</em> and
<em>scalar</em> has type <em>Scalar</em> ,</p>
<blockquote>
<div><p><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">push_back</span></code> ( <em>scalar</em> )</p>
</div></blockquote>
<p>extends the vector so that its new size is <em>n</em> +1
and <em>vec</em> [ <em>n</em> ] is equal to <em>s</em>
(equal in the sense of the <em>Scalar</em> assignment operator).</p>
</section>
<section id="push-vector">
<span id="cppad-vector-push-vector"></span><span id="index-16"></span><h3><a class="toc-backref" href="#id23">push_vector</a><a class="headerlink" href="#push-vector" title="Permalink to this headline"></a></h3>
<p>If <em>vec</em> has size <em>n</em> and
<em>simple_vec</em> is a <a class="reference internal" href="SimpleVector.html#simplevector-name"><span class="std std-ref">simple vector</span></a>
with elements of type <em>Scalar</em> and size <em>m</em> ,</p>
<blockquote>
<div><p><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">push_vector</span></code> ( <em>simple_vec</em> )</p>
</div></blockquote>
<p>extends the vector <em>vec</em> so that its new size is <em>n</em> + <em>m</em>
and <em>vec</em> [ <em>n</em> + <em>i</em> ] is equal to <em>simple_vec</em> [ <em>i</em> ]
for <em>i</em> = 1 , … , <em>m-1</em>
(equal in the sense of the <em>Scalar</em> assignment operator).</p>
</section>
<section id="output">
<span id="cppad-vector-output"></span><span id="index-17"></span><h3><a class="toc-backref" href="#id24">Output</a><a class="headerlink" href="#output" title="Permalink to this headline"></a></h3>
<p>If <em>os</em> is an <code class="docutils literal notranslate"><span class="pre">std::ostream</span></code> , the operation</p>
<blockquote>
<div><p><em>os</em> &lt;&lt; <em>vec</em></p>
</div></blockquote>
<p>will output <em>vec</em> to the standard output stream <em>os</em> .
The elements of <em>vec</em> are enclosed at the beginning by a
<code class="docutils literal notranslate"><span class="pre">{</span></code> character,
they are separated by <code class="docutils literal notranslate"><span class="pre">,</span></code> characters,
and they are enclosed at the end by <code class="docutils literal notranslate"><span class="pre">}</span></code> character.
It is assumed by this operation that if <em>scalar</em>
is an object with type <em>Scalar</em> ,</p>
<blockquote>
<div><p><em>os</em> &lt;&lt; <em>scalar</em></p>
</div></blockquote>
<p>will output the value <em>scalar</em> to <em>os</em> .</p>
</section>
<section id="resize">
<span id="cppad-vector-resize"></span><span id="index-18"></span><h3><a class="toc-backref" href="#id25">resize</a><a class="headerlink" href="#resize" title="Permalink to this headline"></a></h3>
<p>If <em>n</em> is a <code class="docutils literal notranslate"><span class="pre">size_t</span></code> ,</p>
<blockquote>
<div><p><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">resize</span></code> ( <em>n</em> )</p>
</div></blockquote>
<p>sets the size of <em>vec</em> equal to <em>n</em> .</p>
<section id="data">
<span id="cppad-vector-resize-data"></span><span id="index-19"></span><h4><a class="toc-backref" href="#id26">data</a><a class="headerlink" href="#data" title="Permalink to this headline"></a></h4>
<p>The elements in <em>vec</em> before the resize operation are preserved.</p>
</section>
<section id="memory">
<span id="cppad-vector-resize-memory"></span><span id="index-20"></span><h4><a class="toc-backref" href="#id27">memory</a><a class="headerlink" href="#memory" title="Permalink to this headline"></a></h4>
<p>If before the resize, <em>n</em> &lt;= <em>vec</em> . <code class="docutils literal notranslate"><span class="pre">capacity</span></code> () ,
no memory is freed or allocated and
the capacity of <em>vec</em> does not change.
Otherwise, new memory is allocated and the elements before the resize
are copied to the new memory.
If you do not need to the elements previously in the vector,
you can resize to zero and then to the new size to avoid the copy.</p>
</section>
</section>
<section id="clear">
<span id="cppad-vector-clear"></span><span id="index-21"></span><h3><a class="toc-backref" href="#id28">clear</a><a class="headerlink" href="#clear" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">clear</span></code> ()</p>
</div></blockquote>
<p>frees all memory allocated for <em>vec</em>
and both its size and capacity are set to zero.
This can be useful when using very large vectors
and when checking for memory leaks (and there are global vectors)
see the <a class="reference internal" href="#cppad-vector-memory-and-parallel-mode"><span class="std std-ref">memory</span></a> discussion.</p>
</section>
<section id="cppad-vector-data">
<span id="index-22"></span><span id="id1"></span><h3><a class="toc-backref" href="#id29">data</a><a class="headerlink" href="#cppad-vector-data" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">data</span></code> ()</p>
</div></blockquote>
<p>returns a pointer to a <em>Scalar</em> object such that for
0 &lt;= <em>i</em> &lt; <em>vec</em> . <code class="docutils literal notranslate"><span class="pre">size</span></code> () ,
<em>vec</em> [ <em>i</em> ] and <em>vec</em> . <code class="docutils literal notranslate"><span class="pre">data</span></code> ()[ <em>i</em> ]
are the same <em>Scalar</em> object.
If <em>vec</em> is <code class="docutils literal notranslate"><span class="pre">const</span></code> , the pointer is <code class="docutils literal notranslate"><span class="pre">const</span></code> .
If <em>vec</em> . <code class="docutils literal notranslate"><span class="pre">capacity</span></code> () is zero, the value of the pointer is not defined.
The pointer may no longer be valid after the following operations on
<em>vec</em> :
its destructor,
<code class="docutils literal notranslate"><span class="pre">clear</span></code> ,
<code class="docutils literal notranslate"><span class="pre">resize</span></code> ,
<code class="docutils literal notranslate"><span class="pre">push_back</span></code> ,
<code class="docutils literal notranslate"><span class="pre">push_vector</span></code> ,
assignment to another vector when original size of <em>vec</em> is zero.</p>
</section>
<section id="iterators">
<span id="cppad-vector-iterators"></span><span id="index-23"></span><h3><a class="toc-backref" href="#id30">Iterators</a><a class="headerlink" href="#iterators" title="Permalink to this headline"></a></h3>
<section id="cppad-vector-iterators-syntax">
<span id="index-24"></span><span id="id2"></span><h4><a class="toc-backref" href="#id31">Syntax</a><a class="headerlink" href="#cppad-vector-iterators-syntax" title="Permalink to this headline"></a></h4>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">typename</span> <span class="pre">CppAD::vector&lt;</span></code> <em>Scalar</em> &gt;:: <code class="docutils literal notranslate"><span class="pre">iterator</span></code> <em>itr</em></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">typename</span> <span class="pre">CppAD::vector&lt;</span></code> <em>Scalar</em> &gt;:: <code class="docutils literal notranslate"><span class="pre">const_iterator</span></code> <em>citr</em></div>
<div class="line"><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">begin</span></code> ()</div>
<div class="line"><em>vec</em> . <code class="docutils literal notranslate"><span class="pre">end</span></code> ()</div>
</div>
</section>
<section id="itr">
<span id="cppad-vector-iterators-itr"></span><span id="index-25"></span><h4><a class="toc-backref" href="#id32">itr</a><a class="headerlink" href="#itr" title="Permalink to this headline"></a></h4>
<p>is a random access iterator type for non <code class="docutils literal notranslate"><span class="pre">const</span></code> objects.</p>
</section>
<section id="citr">
<span id="cppad-vector-iterators-citr"></span><span id="index-26"></span><h4><a class="toc-backref" href="#id33">citr</a><a class="headerlink" href="#citr" title="Permalink to this headline"></a></h4>
<p>is a random access iterator type for a <code class="docutils literal notranslate"><span class="pre">const</span></code> objects.
An <code class="docutils literal notranslate"><span class="pre">iterator</span></code> can be converted to a <code class="docutils literal notranslate"><span class="pre">const_iterator</span></code> ,
but not the other way around.</p>
</section>
<section id="begin">
<span id="cppad-vector-iterators-begin"></span><span id="index-27"></span><h4><a class="toc-backref" href="#id34">begin</a><a class="headerlink" href="#begin" title="Permalink to this headline"></a></h4>
<p>is an iterator corresponding to the first element of the vector.
It is a <code class="docutils literal notranslate"><span class="pre">const_iterator</span></code> (<code class="docutils literal notranslate"><span class="pre">iterator</span></code> )
depending on if <em>vec</em> is <code class="docutils literal notranslate"><span class="pre">const</span></code> (not <code class="docutils literal notranslate"><span class="pre">const</span></code> )</p>
</section>
<section id="end">
<span id="cppad-vector-iterators-end"></span><span id="index-28"></span><h4><a class="toc-backref" href="#id35">end</a><a class="headerlink" href="#end" title="Permalink to this headline"></a></h4>
<p>is an iterator corresponding to just beyond the last element of the vector.
It is a <code class="docutils literal notranslate"><span class="pre">const_iterator</span></code> (<code class="docutils literal notranslate"><span class="pre">iterator</span></code> )
depending on if <em>vec</em> is <code class="docutils literal notranslate"><span class="pre">const</span></code> (not <code class="docutils literal notranslate"><span class="pre">const</span></code> )</p>
</section>
<section id="operator">
<span id="cppad-vector-iterators-operator"></span><span id="index-29"></span><h4><a class="toc-backref" href="#id36">operator[]</a><a class="headerlink" href="#operator" title="Permalink to this headline"></a></h4>
<p>The syntax <em>itr</em> [ <em>i</em> ]
and <em>citr</em> [ <em>i</em> ] is extended
(from a normal random access iterator) to include the case where
<em>i</em> is <code class="docutils literal notranslate"><span class="pre">size_t</span></code> object.</p>
</section>
<section id="cppad-vector-iterators-error-checking">
<span id="index-30"></span><span id="id3"></span><h4><a class="toc-backref" href="#id37">Error Checking</a><a class="headerlink" href="#cppad-vector-iterators-error-checking" title="Permalink to this headline"></a></h4>
<p>Each element access (dereference of the iterator)
does an error check similar to the element access
<a class="reference internal" href="#cppad-vector-element-access-error-checking"><span class="std std-ref">Error Checking</span></a> above.
The error handler will also be called,
if <code class="docutils literal notranslate"><span class="pre">NDEBUG</span></code> is not defined and
a comparison operator (e.g. <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> ) is used between
two iterators that correspond to different vectors.</p>
</section>
</section>
<section id="vectorbool">
<span id="cppad-vector-vectorbool"></span><span id="index-31"></span><h3><a class="toc-backref" href="#id38">vectorBool</a><a class="headerlink" href="#vectorbool" title="Permalink to this headline"></a></h3>
<p>The file <code class="docutils literal notranslate"><span class="pre">&lt;cppad/utility/vector_bool.hpp&gt;</span></code> defines the class
<code class="docutils literal notranslate"><span class="pre">CppAD::vectorBool</span></code> .
This has the same specifications as <code class="docutils literal notranslate"><span class="pre">CppAD::vector&lt;bool&gt;</span></code>
with the following exceptions:</p>
<section id="cppad-vector-vectorbool-memory">
<span id="index-32"></span><span id="id4"></span><h4><a class="toc-backref" href="#id39">Memory</a><a class="headerlink" href="#cppad-vector-vectorbool-memory" title="Permalink to this headline"></a></h4>
<p>The class <code class="docutils literal notranslate"><span class="pre">vectorBool</span></code> conserves on memory,
on the other hand, <code class="docutils literal notranslate"><span class="pre">CppAD::vector&lt;bool&gt;</span></code> is expected to be faster
than <code class="docutils literal notranslate"><span class="pre">vectorBool</span></code> .</p>
</section>
<section id="bit-per-unit">
<span id="cppad-vector-vectorbool-bit-per-unit"></span><span id="index-33"></span><h4><a class="toc-backref" href="#id40">bit_per_unit</a><a class="headerlink" href="#bit-per-unit" title="Permalink to this headline"></a></h4>
<p>The static function call</p>
<blockquote>
<div><p><em>size</em> = <code class="docutils literal notranslate"><span class="pre">vectorBool::bit_per_unit</span></code> ()</p>
</div></blockquote>
<p>returns the <code class="docutils literal notranslate"><span class="pre">size_t</span></code> value <em>s</em>
which is equal to the number of boolean values (bits) that are
packed into one operation unit.
Bits are accessed using a mask with the size of an operation unit.</p>
</section>
<section id="cppad-vector-vectorbool-data">
<span id="index-34"></span><span id="id5"></span><h4><a class="toc-backref" href="#id41">data</a><a class="headerlink" href="#cppad-vector-vectorbool-data" title="Permalink to this headline"></a></h4>
<p>The <a class="reference internal" href="#cppad-vector-data"><span class="std std-ref">data</span></a> function is not supported by
<code class="docutils literal notranslate"><span class="pre">vectorBool</span></code> .</p>
</section>
<section id="cppad-vector-vectorbool-iterators">
<span id="index-35"></span><span id="id6"></span><h4><a class="toc-backref" href="#id42">Iterators</a><a class="headerlink" href="#cppad-vector-vectorbool-iterators" title="Permalink to this headline"></a></h4>
<p>The <a class="reference internal" href="#cppad-vector-iterators"><span class="std std-ref">Iterators</span></a> are not supported by
<code class="docutils literal notranslate"><span class="pre">vectorBool</span></code> .</p>
</section>
<section id="cppad-vector-vectorbool-output">
<span id="index-36"></span><span id="id7"></span><h4><a class="toc-backref" href="#id43">Output</a><a class="headerlink" href="#cppad-vector-vectorbool-output" title="Permalink to this headline"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">CppAD::vectorBool</span></code> output operator
prints each boolean value as
a <code class="docutils literal notranslate"><span class="pre">0</span></code> for false,
a <code class="docutils literal notranslate"><span class="pre">1</span></code> for true,
and does not print any other output; i.e.,
the vector is written a long sequence of zeros and ones with no
surrounding <code class="docutils literal notranslate"><span class="pre">{</span></code> , <code class="docutils literal notranslate"><span class="pre">}</span></code> and with no separating commas or spaces.</p>
</section>
<section id="element-type">
<span id="cppad-vector-vectorbool-element-type"></span><span id="index-37"></span><h4><a class="toc-backref" href="#id44">Element Type</a><a class="headerlink" href="#element-type" title="Permalink to this headline"></a></h4>
<p>If <em>vec_bool</em> has type <code class="docutils literal notranslate"><span class="pre">vectorBool</span></code>
and <em>i</em> has type <code class="docutils literal notranslate"><span class="pre">size_t</span></code> ,
the element access value <em>vec_bool</em> [ <em>i</em> ] has an unspecified type,
referred to here as <em>element_t</em> , that supports the following
operations:</p>
<ol class="arabic">
<li><p><em>element_t</em> can be converted to <code class="docutils literal notranslate"><span class="pre">bool</span></code> ; e.g.
the following syntax is supported:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">static_cast&lt;bool&gt;</span></code> ( <em>vec_bool</em> [ <em>i</em> ] )</p>
</div></blockquote>
</li>
<li><p><em>element_t</em> supports the assignment operator <code class="docutils literal notranslate"><span class="pre">=</span></code> where the
right hand side is a <code class="docutils literal notranslate"><span class="pre">bool</span></code> or an <em>element_t</em> object; e.g.,
if <em>flag</em> has type <code class="docutils literal notranslate"><span class="pre">bool</span></code> , the following syntax is supported:</p>
<blockquote>
<div><p><em>vec_bool</em> [ <em>i</em> ] = <em>flag</em></p>
</div></blockquote>
</li>
<li><p>The result of an assignment to an <em>element_t</em>
also has type <em>element_t</em> .
For example, if <em>other_flag</em> has type <code class="docutils literal notranslate"><span class="pre">bool</span></code> ,
the following syntax is supported:</p>
<blockquote>
<div><p><em>other_flag</em> = <em>vec_bool</em> [ <em>i</em> ] = <em>flag</em></p>
</div></blockquote>
</li>
</ol>
</section>
</section>
<section id="memory-and-parallel-mode">
<span id="cppad-vector-memory-and-parallel-mode"></span><span id="index-38"></span><h3><a class="toc-backref" href="#id45">Memory and Parallel Mode</a><a class="headerlink" href="#memory-and-parallel-mode" title="Permalink to this headline"></a></h3>
<p>These vectors use the multi-threaded fast memory allocator
<a class="reference internal" href="thread_alloc.html#thread-alloc-name"><span class="std std-ref">thread_alloc</span></a> :</p>
<ol class="arabic simple">
<li><p>The <a class="reference internal" href="ta_hold_memory.html#ta-hold-memory-name"><span class="std std-ref">hold_memory</span></a> routine can be used
to make memory allocation faster.</p></li>
<li><p>The routine <a class="reference internal" href="ta_parallel_setup.html#ta-parallel-setup-name"><span class="std std-ref">parallel_setup</span></a> must
be called before these vectors can be used
<a class="reference internal" href="ta_in_parallel.html#ta-in-parallel-name"><span class="std std-ref">in parallel</span></a> .</p></li>
<li><p>Using these vectors affects the amount of memory
<a class="reference internal" href="ta_inuse.html#ta-inuse-name"><span class="std std-ref">in_use</span></a> and <a class="reference internal" href="ta_available.html#ta-available-name"><span class="std std-ref">available</span></a> .</p></li>
<li><p>Calling <a class="reference internal" href="#cppad-vector-clear"><span class="std std-ref">clear</span></a> ,
makes the corresponding memory available (though <code class="docutils literal notranslate"><span class="pre">thread_alloc</span></code> )
to the current thread.</p></li>
<li><p>Available memory
can then be completely freed using <a class="reference internal" href="ta_free_available.html#ta-free-available-name"><span class="std std-ref">free_available</span></a> .</p></li>
</ol>
</section>
<section id="example">
<span id="cppad-vector-example"></span><span id="index-39"></span><h3><a class="toc-backref" href="#id46">Example</a><a class="headerlink" href="#example" title="Permalink to this headline"></a></h3>
<p>The files
<a class="reference internal" href="cppad_vector.cpp.html#cppad-vector-cpp-name"><span class="std std-ref">cppad_vector.cpp</span></a> and
<a class="reference internal" href="vector_bool.cpp.html#vector-bool-cpp-name"><span class="std std-ref">vector_bool.cpp</span></a> each
contain an example and test of this template class.
They return true if they succeed and false otherwise.</p>
</section>
<section id="exercise">
<span id="cppad-vector-exercise"></span><span id="index-40"></span><h3><a class="toc-backref" href="#id47">Exercise</a><a class="headerlink" href="#exercise" title="Permalink to this headline"></a></h3>
<p>Create and run a program that contains the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CppAD</span><span class="p">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">double</span><span class="o">&gt;</span> <span class="n">x</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">size_t</span> <span class="n">i</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mf">4.</span> <span class="o">-</span> <span class="n">i</span><span class="p">;</span>
<span class="n">std</span><span class="p">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;x = &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="p">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ode_gear_control.cpp.html" class="btn btn-neutral float-left" title="ode_gear_control.cpp" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cppad_vector.cpp.html" class="btn btn-neutral float-right" title="cppad_vector.cpp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>