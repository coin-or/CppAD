<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Determine Amount of Time to Execute a Test</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Determine Amount of Time to Execute a Test">
<meta name="keywords" id="keywords" content=" determine amount time to execute test syntax purpose motivation include size repeat time_min test_size repeat_out timing example ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_time_test_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://coin-or.github.io/CppAD" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td><a href="test_boolofvoid.htm" target="_top">Prev</a>
</td><td><a href="elapsed_seconds.htm" target="_top">Next</a>
</td><td>
<select onchange='choose_across0(this)'>
<option>Index-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Up-&gt;</option>
<option>CppAD</option>
<option>utility</option>
<option>time_test</option>
</select>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_cppad_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_utility_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_time_test_htm.js'></script>
</td>
<td>
<select onchange='choose_current0(this)'>
<option>Headings-&gt;</option>
<option>Syntax</option>
<option>Purpose</option>
<option>Motivation</option>
<option>Include</option>
<option>test</option>
<option>---..size</option>
<option>---..repeat</option>
<option>time_min</option>
<option>test_size</option>
<option>repeat_out</option>
<option>time</option>
<option>Timing</option>
<option>Example</option>
</select>
</td>
</tr></table><br>
@(@\newcommand{\W}[1]{ \; #1 \; }
\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\D}[2]{ \frac{\partial #1}{\partial #2} }
\newcommand{\DD}[3]{ \frac{\partial^2 #1}{\partial #2 \partial #3} }
\newcommand{\Dpow}[2]{ \frac{\partial^{#1}}{\partial  {#2}^{#1}} }
\newcommand{\dpow}[2]{ \frac{ {\rm d}^{#1}}{{\rm d}\, {#2}^{#1}} }@)@




<b>This is cppad-20221105 documentation</b>. Here is a link to its
<a href="https://cppad.readthedocs.io/en/latest/user_guide.html" target="_top"><span style='white-space: nowrap'>current&nbsp;documentation</span></a>
.

<center><b><big><big>Determine Amount of Time to Execute a Test</big></big></b></center>
<br>
<b><big><a name="Syntax" id="Syntax">Syntax</a></big></b>

<br>

<code><font color="blue"><span style='white-space: nowrap'>#&nbsp;include&nbsp;&lt;cppad/utility/time_test.hpp&gt;<br>
</span></font></code>

<code><i><font color="black"><span style='white-space: nowrap'>time</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;time_test(</span></font><i><font color="black"><span style='white-space: nowrap'>test</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>time_min</span></font></i><font color="blue"><span style='white-space: nowrap'>)<br>
</span></font></code>

<code><i><font color="black"><span style='white-space: nowrap'>time</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;time_test(</span></font><i><font color="black"><span style='white-space: nowrap'>test</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>time_min</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>test_size</span></font></i><font color="blue"><span style='white-space: nowrap'>)<br>
</span></font></code>

<code><i><font color="black"><span style='white-space: nowrap'>time</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;time_test(</span></font><i><font color="black"><span style='white-space: nowrap'>test</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>time_min</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>test_size</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>repeat_out</span></font></i><font color="blue"><span style='white-space: nowrap'>)<br>
</span></font></code>
<br>
<b><big><a name="Purpose" id="Purpose">Purpose</a></big></b>
<br>
The <code><font color="blue">time_test</font></code> function executes a timing test
and reports the amount of wall clock time for execution.

<br>
<br>
<b><big><a name="Motivation" id="Motivation">Motivation</a></big></b>
<br>
It is important to separate small calculation units
and test them individually.
This way individual changes can be tested in the context of the
routine that they are in.
On many machines, accurate timing of a very short execution
sequences is not possible.
In addition,
there may be set up and tear down time for a test that
we do not really want included in the timing.
For this reason <code><font color="blue">time_test</font></code>
automatically determines how many times to
repeat the section of the test that we wish to time.

<br>
<br>
<b><big><a name="Include" id="Include">Include</a></big></b>
<br>
The file <code><font color="blue">cppad/utility/time_test.hpp</font></code> defines the
<code><font color="blue">time_test</font></code> function.
This file is included by <code><font color="blue">cppad/cppad.hpp</font></code>
and it can also be included separately with out the rest of
the <code><font color="blue">CppAD</font></code> routines.

<br>
<br>
<b><big><a name="test" id="test">test</a></big></b>
<br>
The <code><font color="blue">time_test</font></code> argument 
<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 is a function,
or function object.
In the case where 
<code><i><font color="black"><span style='white-space: nowrap'>test_size</span></font></i></code>
 is not present,

<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 supports the syntax

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>test</span></font></i><font color="blue"><span style='white-space: nowrap'>(</span></font><i><font color="black"><span style='white-space: nowrap'>repeat</span></font></i><font color="blue"><span style='white-space: nowrap'>)<br>
</span></font></code>
In the case where 
<code><i><font color="black"><span style='white-space: nowrap'>test_size</span></font></i></code>
 is present,

<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 supports the syntax

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>test</span></font></i><font color="blue"><span style='white-space: nowrap'>(</span></font><i><font color="black"><span style='white-space: nowrap'>size</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>repeat</span></font></i><font color="blue"><span style='white-space: nowrap'>)<br>
</span></font></code>
In either case, the return value for 
<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 is <code><font color="blue">void</font></code>.

<br>
<br>
<big><a name="test.size" id="test.size">size</a></big>
<br>
If the argument 
<code><i><font color="black"><span style='white-space: nowrap'>size</span></font></i></code>
 is present,
it has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>size</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
and is equal to the 
<code><i><font color="black"><span style='white-space: nowrap'>test_size</span></font></i></code>
 argument to <code><font color="blue">time_test</font></code>.

<br>
<br>
<big><a name="test.repeat" id="test.repeat">repeat</a></big>
<br>
The 
<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 argument 
<code><i><font color="black"><span style='white-space: nowrap'>repeat</span></font></i></code>
 has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>repeat</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
It specifies the number of times to repeat the test.

<br>
<br>
<b><big><a name="time_min" id="time_min">time_min</a></big></b>
<br>
The argument 
<code><i><font color="black"><span style='white-space: nowrap'>time_min</span></font></i></code>
 has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>time_min</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
It specifies the minimum amount of time in seconds
that the 
<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 routine should take.
The 
<code><i><font color="black"><span style='white-space: nowrap'>repeat</span></font></i></code>
 argument to 
<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 is increased
until this amount of execution time (or more) is reached.

<br>
<br>
<b><big><a name="test_size" id="test_size">test_size</a></big></b>
<br>
If this argument is present, it argument has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>test_size</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
In this case 
<code><i><font color="black"><span style='white-space: nowrap'>test_size</span></font></i></code>
 will be present, and have the same value,
in each call to 
<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
.

<br>
<br>
<b><big><a name="repeat_out" id="repeat_out">repeat_out</a></big></b>
<br>
If this argument is present, it has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;size_t&amp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>repeat_out</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
This input value of this argument does not matter.
Upon return, it is the value of <a href="time_test.htm#test.repeat" target="_top"><span style='white-space: nowrap'>repeat</span></a>

that corresponds to the return value 
<code><i><font color="black"><span style='white-space: nowrap'>time</span></font></i></code>
; i.e.,
the actual total time of the test is

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>total_time</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>repeat</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;*&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>time</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
<br>
<b><big><a name="time" id="time">time</a></big></b>
<br>
The return value 
<code><i><font color="black"><span style='white-space: nowrap'>time</span></font></i></code>
 has prototype

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>time</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
and is the number of wall clock seconds that it took
to execute 
<code><i><font color="black"><span style='white-space: nowrap'>test</span></font></i></code>
 divided by the value used for 
<code><i><font color="black"><span style='white-space: nowrap'>repeat</span></font></i></code>
.

<br>
<br>
<b><big><a name="Timing" id="Timing">Timing</a></big></b>
<br>
The routine <a href="elapsed_seconds.htm" target="_top"><span style='white-space: nowrap'>elapsed_seconds</span></a>
 will be used to determine the
amount of time it took to execute the test.


<br>
<br>
<b><big><a name="Example" id="Example">Example</a></big></b>
<br>
The routine <a href="time_test.cpp.htm" target="_top"><span style='white-space: nowrap'>time_test.cpp</span></a>
 is an example and test
of <code><font color="blue">time_test</font></code>.


<hr>Input File: include/cppad/utility/time_test.hpp

</body>
</html>
