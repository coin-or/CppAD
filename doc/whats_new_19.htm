<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Changes and Additions to CppAD During 2019</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Changes and Additions to CppAD During 2019">
<meta name="keywords" id="keywords" content=" changes additions to cppad during 2019 09-18 09-17 09-14 09-12 09-10 09-09 08-29 08-25 08-23 08-22 08-26 08-19 08-17 08-16 08-13 08-12 08-10 08-09 08-08 08-06 07-31 07-30 07-29 07-25 07-19 07-18 07-05 07-04 07-03 06-29 06-19 06-18 06-17 06-10 06-02 05-31 05-28 05-22 05-21 05-07 04-01 03-27 03-19 03-13 02-26 02-23 02-22 02-20 02-06 02-01 01-18 01-17 01-16 01-15 01-14 01-06 01-05 01-11 ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_whats_new_19_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://coin-or.github.io/CppAD" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td><a href="whats_new.htm" target="_top">Prev</a>
</td><td><a href="whats_new_18.htm" target="_top">Next</a>
</td><td>
<select onchange='choose_across0(this)'>
<option>Index-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Up-&gt;</option>
<option>CppAD</option>
<option>Appendix</option>
<option>whats_new</option>
<option>whats_new_19</option>
</select>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_cppad_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_appendix_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_whats_new_htm.js'></script>
</td>
<td>whats_new_19</td>
<td>
<select onchange='choose_current0(this)'>
<option>Headings-&gt;</option>
<option>09-18</option>
<option>09-17</option>
<option>09-14</option>
<option>09-12</option>
<option>09-10</option>
<option>09-09</option>
<option>08-29</option>
<option>08-29.08-25</option>
<option>08-29.08-23</option>
<option>08-29.08-22</option>
<option>08-26</option>
<option>08-19</option>
<option>08-17</option>
<option>08-16</option>
<option>08-13</option>
<option>08-12</option>
<option>08-10</option>
<option>08-09</option>
<option>08-08</option>
<option>08-06</option>
<option>07-31</option>
<option>07-30</option>
<option>07-29</option>
<option>07-25</option>
<option>07-19</option>
<option>07-18</option>
<option>07-05</option>
<option>07-04</option>
<option>07-03</option>
<option>06-29</option>
<option>06-19</option>
<option>06-18</option>
<option>06-17</option>
<option>06-10</option>
<option>06-02</option>
<option>05-31</option>
<option>05-28</option>
<option>05-22</option>
<option>05-21</option>
<option>05-07</option>
<option>04-01</option>
<option>03-27</option>
<option>03-19</option>
<option>03-13</option>
<option>02-26</option>
<option>02-23</option>
<option>02-22</option>
<option>02-20</option>
<option>02-06</option>
<option>02-01</option>
<option>01-18</option>
<option>01-17</option>
<option>01-16</option>
<option>01-15</option>
<option>01-14</option>
<option>01-06</option>
<option>01-05</option>
<option>01-11</option>
</select>
</td>
</tr></table><br>
@(@\newcommand{\W}[1]{ \; #1 \; }
\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\D}[2]{ \frac{\partial #1}{\partial #2} }
\newcommand{\DD}[3]{ \frac{\partial^2 #1}{\partial #2 \partial #3} }
\newcommand{\Dpow}[2]{ \frac{\partial^{#1}}{\partial  {#2}^{#1}} }
\newcommand{\dpow}[2]{ \frac{ {\rm d}^{#1}}{{\rm d}\, {#2}^{#1}} }@)@


<center><b><big><big>Changes and Additions to CppAD During 2019</big></big></b></center>
<br>
<b><big><a name="09-18" id="09-18">09-18</a></big></b>
<br>
Merge in changes from json branch which implement the
<a href="json_op_define.htm#Compare Operators" target="_top"><span style='white-space: nowrap'>compare&nbsp;operators</span></a>
.

<br>
<br>
<b><big><a name="09-17" id="09-17">09-17</a></big></b>
<br>
The autotools install was installing 
<code><i><font color="black"><span style='white-space: nowrap'>*</span></font></i><font color="blue"><span style='white-space: nowrap'>.hpp.in</span></font></code>

instead of the corresponding 
<code><i><font color="black"><span style='white-space: nowrap'>*</span></font></i><font color="blue"><span style='white-space: nowrap'>.hpp</span></font></code>
 file.
This has been fixed.

<br>
<br>
<b><big><a name="09-14" id="09-14">09-14</a></big></b>
<br>
Fix autotools install so files get installed to

<code><i><font color="black"><span style='white-space: nowrap'>prefix</span></font></i><font color="blue"><span style='white-space: nowrap'>/include/cppad</span></font></code>
 instead of

<code><i><font color="black"><span style='white-space: nowrap'>prefix</span></font></i><font color="blue"><span style='white-space: nowrap'>/include/include/cppad</span></font></code>
.
Also fix the autotools <code><font color="blue">make test</font></code>.

<br>
<br>
<b><big><a name="09-12" id="09-12">09-12</a></big></b>
<br>
Bring <a href="autotools.htm" target="_top"><span style='white-space: nowrap'>autotools</span></a>
 build and test up to date
(this was deprecated at end of 2012 and support for this will eventually stop).

<br>
<br>
<b><big><a name="09-10" id="09-10">09-10</a></big></b>
<br>
The old Json unary operator examples were converted to be just
tests and a single <a href="json_unary_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_unary_op.cpp</span></a>
 example was left
in its place.

<br>
<br>
<b><big><a name="09-09" id="09-09">09-09</a></big></b>
<br>
The Json graph
<a href="json_op_define.htm#Conditional Expressions" target="_top"><span style='white-space: nowrap'>conditional&nbsp;expressions</span></a>

were added.

<br>
<br>
<b><big><a name="08-29" id="08-29">08-29</a></big></b>

<ol type="1"><li>
Extend <a href="to_json.htm" target="_top"><span style='white-space: nowrap'>to_json</span></a>
 to handle
<a href="json_op_define.htm#Atomic Functions" target="_top"><span style='white-space: nowrap'>atomic&nbsp;functions</span></a>
.
This should have been included with the atomic function change
on <a href="whats_new_19.htm#08-17" target="_top"><span style='white-space: nowrap'>08-17</span></a>
.
</li><li>

Simplify the <a href="json_atom_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_atom_op.cpp</span></a>
 and add a call
to <a href="to_json.htm" target="_top"><span style='white-space: nowrap'>to_json</span></a>
 to this example.
</li><li>

The <code><font color="blue">string_vec</font></code> field was removed from the definition of an
Json AD graph <a href="json_ad_graph.htm#AD Graph.function" target="_top"><span style='white-space: nowrap'>function</span></a>
.
The corresponding operators will have strings in their
<a href="json_ad_graph.htm#op_usage.n_arg And Strings In Usage" target="_top"><span style='white-space: nowrap'>op_usage</span></a>
.

</li><li>

The vector branch was merged into the master.
This brought in the following changes from 08-22 to 08-26 below.
</li></ol>


<br>
<br>
<big><a name="08-29.08-25" id="08-29.08-25">08-25</a></big>
<br>
Change <a href="cppad_vector.cpp.htm" target="_top"><span style='white-space: nowrap'>cppad_vector.cpp</span></a>
 example to use same names as
in <a href="cppad_vector.htm" target="_top"><span style='white-space: nowrap'>CppAD_vector</span></a>
 documentation.

<br>
<br>
<big><a name="08-29.08-23" id="08-29.08-23">08-23</a></big>
<br>
The <a href="cppad_vector.htm" target="_top"><span style='white-space: nowrap'>CppAD_vector</span></a>
 documentation page was edited (improved).

<br>
<br>
<big><a name="08-29.08-22" id="08-29.08-22">08-22</a></big>

<br>
<a href="cppad_vector.htm#Iterators" target="_top"><span style='white-space: nowrap'>Iterators</span></a>
 were added
to the CppAD vector class.

<br>
<br>
<b><big><a name="08-26" id="08-26">08-26</a></big></b>
<br>
The Json graph
<a href="json_op_define.htm#Unary Operators" target="_top"><span style='white-space: nowrap'>unary&nbsp;operators</span></a>
 were added.

<br>
<br>
<b><big><a name="08-19" id="08-19">08-19</a></big></b>
<br>
The CppAD vector
<a href="cppad_vector.htm#Include" target="_top"><span style='white-space: nowrap'>include</span></a>
 discussion was edited.
In addition, the class <a href="cppad_vector.htm#vectorBool" target="_top"><span style='white-space: nowrap'>vectorBool</span></a>

is now available as a separate include file.

<br>
<br>
<b><big><a name="08-17" id="08-17">08-17</a></big></b>

<ol type="1"><li>
Add a the Json addition example <a href="json_add_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_add_op.cpp</span></a>
.
</li><li>

Add the <a href="json_op_define.htm#Atomic Functions" target="_top"><span style='white-space: nowrap'>atomic&nbsp;function</span></a>

operator which enables
one to call atomic functions as part of a Json AD graph; see the
<a href="json_atom_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_atom_op.cpp</span></a>
 example.
</li></ol>


<br>
<br>
<b><big><a name="08-16" id="08-16">08-16</a></big></b>
<br>
Add the case where <a href="atomic_three_forward.htm#need_y" target="_top"><span style='white-space: nowrap'>need_y</span></a>
 is equal to
<code><font color="blue">constant_enum</font></code> during <code><font color="blue">atomic_three</font></code> forward mode.
This only needs to be implemented when by <a href="from_json.htm" target="_top"><span style='white-space: nowrap'>from_json</span></a>
 is used
with the atomic function.

<br>
<br>
<b><big><a name="08-13" id="08-13">08-13</a></big></b>
<br>
Fix a bug in the calculation of
Hessian <a href="sparsity_pattern.htm" target="_top"><span style='white-space: nowrap'>sparsity&nbsp;patterns</span></a>

when using <a href="chkpoint_two.htm" target="_top"><span style='white-space: nowrap'>chkpoint_two</span></a>
 function.

<br>
<br>
<b><big><a name="08-12" id="08-12">08-12</a></big></b>

<ol type="1"><li>
Fix an assert error for the
<a href="json_op_define.htm#sum" target="_top"><span style='white-space: nowrap'>sum</span></a>
 operator
in <a href="from_json.htm" target="_top"><span style='white-space: nowrap'>from_json</span></a>
.
</li><li>

Improve the documentation for mixing debug and release versions
of CppAD in the same program; see
<a href="preprocessor.htm#Documented Here.CPPAD_DEBUG_AND_RELEASE" target="_top"><span style='white-space: nowrap'>CPPAD_DEBUG_AND_RELEASE</span></a>
.
</li></ol>


<br>
<br>
<b><big><a name="08-10" id="08-10">08-10</a></big></b>

<ol type="1"><li>
Remove under construction heading from the examples
<a href="json_mul_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_mul_op.cpp</span></a>
, <a href="json_sub_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_sub_op.cpp</span></a>
, <a href="json_sum_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_sum_op.cpp</span></a>

(they have been working for a while now).
</li><li>

Add the Json <a href="json_op_define.htm#Binary Operators.div" target="_top"><span style='white-space: nowrap'>div</span></a>
 operator.
</li></ol>


<br>
<br>
<b><big><a name="08-09" id="08-09">08-09</a></big></b>

<ol type="1"><li>
Add <a href="json_ad_graph.htm#AD Graph.function_name" target="_top"><span style='white-space: nowrap'>function_name</span></a>

to the Json graph representation of a function.
</li><li>

Use the function name for reporting errors in a Json graph.
</li></ol>


<br>
<br>
<b><big><a name="08-08" id="08-08">08-08</a></big></b>

<ol type="1"><li>
Move the example include files
<code><font color="blue">eigen_cholesky.hpp</font></code>,
<code><font color="blue">eigen_mat_inv.hpp</font></code>,
<code><font color="blue">eigen_mat_mul.hpp</font></code>
from the <code><font color="blue">include/cppad/example</font></code> directory
to the <code><font color="blue">include/cppad/example/atomic_two</font></code> directory.
</li><li>

Move the example include file
<code><font color="blue">mat_mul.hpp</font></code>
from the <code><font color="blue">include/cppad/example</font></code> directory
to the <code><font color="blue">include/cppad/example/atomic_three</font></code> directory.
</li><li>

Improve the <a href="atomic_three.htm#Syntax" target="_top"><span style='white-space: nowrap'>syntax</span></a>
,
and <a href="atomic_three.htm#parameter_x" target="_top"><span style='white-space: nowrap'>parameter_x</span></a>
 discussion,
in the documentation for the <code><font color="blue">atomic_three</font></code> functions.
Furthermore, add an extra discussion of the parameters
to the documentation for 
<code><i><font color="black"><span style='white-space: nowrap'>taylor_x</span></font></i></code>
 in the
<a href="atomic_three_forward.htm#taylor_x.parameters" target="_top"><span style='white-space: nowrap'>forward</span></a>
 and
<a href="atomic_three_forward.htm#taylor_x.parameters" target="_top"><span style='white-space: nowrap'>reverse</span></a>
 callback functions.
</li><li>

Change Json 
<code><i><font color="black"><span style='white-space: nowrap'>string_vec</span></font></i></code>

from first to second line below:

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_string</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_string</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_string</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_string</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_string</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_string</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]<br>
</span></font></code>
(
<code><i><font color="black"><span style='white-space: nowrap'>string_vec</span></font></i></code>
 was removed on <a href="whats_new_19.htm#08-29" target="_top"><span style='white-space: nowrap'>08-29</span></a>
).
</li><li>

Change Json <a href="json_ad_graph.htm#constant_vec" target="_top"><span style='white-space: nowrap'>constant_vec</span></a>

from first to second line below:

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_constant</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_constant</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_constant</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_constant</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_constant</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_constant</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]<br>
</span></font></code>
</li><li>
Change Json <a href="json_ad_graph.htm#op_usage_vec" target="_top"><span style='white-space: nowrap'>op_usage_vec</span></a>

from first to second line below:

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_op_usage</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_op_usage</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_op_usage</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_op_usage</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_op_usage</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_op_usage</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]<br>
</span></font></code>
</li><li>
Change Json <a href="json_ad_graph.htm#dependent_vec" target="_top"><span style='white-space: nowrap'>dependent_vec</span></a>

from first to second line below:

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_dependent</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_dependent</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_dependent</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_dependent</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>first_dependent</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>last_dependent</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]<br>
</span></font></code>
</li></ol>
<br>
<b><big><a name="08-06" id="08-06">08-06</a></big></b>

<ol type="1"><li>
Fix a bug in <code><font color="blue">chkpoint_two</font></code> when
<a href="chkpoint_two_ctor.htm#use_in_parallel" target="_top"><span style='white-space: nowrap'>use_in_parallel</span></a>
 is true.
</li><li>

Add the <a href="multi_atomic_three.cpp.htm" target="_top"><span style='white-space: nowrap'>multi_atomic_three.cpp</span></a>
 and <a href="multi_chkpoint_two.cpp.htm" target="_top"><span style='white-space: nowrap'>multi_chkpoint_two.cpp</span></a>

examples.
</li><li>

Deprecate the <a href="multi_atomic_two.cpp.htm" target="_top"><span style='white-space: nowrap'>multi_atomic_two.cpp</span></a>
 and <a href="multi_chkpoint_one.cpp.htm" target="_top"><span style='white-space: nowrap'>multi_chkpoint_one.cpp</span></a>

examples
</li></ol>


<br>
<br>
<b><big><a name="07-31" id="07-31">07-31</a></big></b>
<br>
Add an example representation of a sparse matrix using the an
<a href="json_ad_graph.htm" target="_top"><span style='white-space: nowrap'>json_ad_graph</span></a>
; see <a href="json_sparse.cpp.htm" target="_top"><span style='white-space: nowrap'>json_sparse.cpp</span></a>
.

<br>
<br>
<b><big><a name="07-30" id="07-30">07-30</a></big></b>

<ol type="1"><li>
Add the json subtraction operator
<a href="json_op_define.htm#Binary Operators.sub" target="_top"><span style='white-space: nowrap'>sub</span></a>
.
</li><li>

Fix <a href="from_json.htm" target="_top"><span style='white-space: nowrap'>from_json</span></a>
 addition and multiply operations
where the first argument is a variable and second argument is a parameter.
</li><li>

Add simple examples for the json operators that have been implemented; e.g.,
<a href="json_sum_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_sum_op.cpp</span></a>
.
</li><li>

Fix <a href="to_json.htm" target="_top"><span style='white-space: nowrap'>to_json</span></a>
 when a cumulative summation has
subtraction terms in its summation.
</li></ol>



<br>
<br>
<b><big><a name="07-29" id="07-29">07-29</a></big></b>
<br>
Add the <a href="json_sum_op.cpp.htm" target="_top"><span style='white-space: nowrap'>json_sum_op.cpp</span></a>
 example and fix a bug in
<a href="from_json.htm" target="_top"><span style='white-space: nowrap'>from_json</span></a>
 that was demonstrated by this example.
To be specific, the json <a href="json_op_define.htm#sum" target="_top"><span style='white-space: nowrap'>sum</span></a>
 operator
did not work when all its result was a
<a href="glossary.htm#Parameter.Dynamic" target="_top"><span style='white-space: nowrap'>dynamic&nbsp;parameter</span></a>
.

<br>
<br>
<b><big><a name="07-25" id="07-25">07-25</a></big></b>
<br>
Fix the warning (on some systems) that
<a href="rev_jac_sparsity.htm" target="_top"><span style='white-space: nowrap'>rev_jac_sparsity</span></a>
 shadows a member of
<code><font color="blue">CppAD::atomic_three&lt;Base&gt;</font></code>.


<br>
<br>
<b><big><a name="07-19" id="07-19">07-19</a></big></b>
<br>
The <code><font color="blue">cppad_lib</font></code> dynamic link library version number used to be

<code><i><font color="black"><span style='white-space: nowrap'>yy</span></font></i><font color="blue"><span style='white-space: nowrap'>.</span></font><i><font color="black"><span style='white-space: nowrap'>mmdd</span></font></i></code>
 where the major version number 
<code><i><font color="black"><span style='white-space: nowrap'>yy</span></font></i></code>

was the year minus 2000 and the minor version number 
<code><i><font color="black"><span style='white-space: nowrap'>mmdd</span></font></i></code>

was the month and day.
The value 
<code><i><font color="black"><span style='white-space: nowrap'>mmdd</span></font></i></code>
 was to large for a Mac system minor version number.
See <a href="cmake.htm#cmake_install_libdirs.cppad_lib" target="_top"><span style='white-space: nowrap'>cppad_lib</span></a>
 for the new
library version number system.

<br>
<br>
<b><big><a name="07-18" id="07-18">07-18</a></big></b>
<br>
Change some assignment operators to equality operators in a few asserts
(<code><font color="blue">=</font></code> to <code><font color="blue">==</font></code> in the files
<code><font color="blue">optimize_run.hpp</font></code> and <code><font color="blue">player.hpp</font></code>).
These were not bugs because the corresponding variable
was being set to the value it should have been.

<br>
<br>
<b><big><a name="07-05" id="07-05">07-05</a></big></b>

<ol type="1"><li>
The <a href="json_ad_graph.htm#op_usage_vec.n_usage" target="_top"><span style='white-space: nowrap'>n_usage</span></a>
 value generated by
<a href="to_json.htm" target="_top"><span style='white-space: nowrap'>to_json</span></a>
 was not correct. This has been fixed.
</li><li>

All the operators that were implemented so far were included in the
<a href="json_ad_graph.htm#op_define_vec" target="_top"><span style='white-space: nowrap'>op_define_vec</span></a>
 section generated by
<code><font color="blue">to_json</font></code>.
Now only operators that are used are included.
This makes it easier for humans to understand simple example graphs
(especially as the number of implemented operators increases).
</li><li>

There was a bug in <a href="from_json.htm" target="_top"><span style='white-space: nowrap'>from_json</span></a>
 when one
of the operations was a dynamic parameter and the other was a constant.
This has been fixed.
</li><li>

All of the addition and multiplication operators
(including cumulative sum operators) have been implemented and tested..
</li></ol>


<br>
<br>
<b><big><a name="07-04" id="07-04">07-04</a></big></b>

<ol type="1"><li>
Improve the <a href="from_json.htm" target="_top"><span style='white-space: nowrap'>from_json</span></a>
 error messages by including the
previous two lines of Json in error message.
</li><li>

Working on a <a href="to_json.htm" target="_top"><span style='white-space: nowrap'>to_json</span></a>
 example that outputs graph
for the derivative of a function.
</li></ol>


<br>
<br>
<b><big><a name="07-03" id="07-03">07-03</a></big></b>
<br>
The format of a Json computational graph was changed to include
a section at the top that defines the mapping
between integer codes in the graph and corresponding operators,
see the heading <a href="json_ad_graph.htm#op_define_vec" target="_top"><span style='white-space: nowrap'>op_define_vec</span></a>
.
This is now separate from
<a href="json_ad_graph.htm#op_usage_vec" target="_top"><span style='white-space: nowrap'>op_usage_vec</span></a>
 which is the part
of the graph that is expect to be very large and is now less verbose.

<br>
<br>
<b><big><a name="06-29" id="06-29">06-29</a></big></b>
<br>
It used to be the case that optimized functions with cumulative
summation operators could not be optimized.
This has been fixed and it is now acceptable to
<a href="optimize.htm#Re-Optimize" target="_top"><span style='white-space: nowrap'>re-optimize</span></a>
 an <code><font color="blue">ADFun</font></code> object.

<br>
<br>
<b><big><a name="06-19" id="06-19">06-19</a></big></b>

<ol type="1"><li>
Some work was done to improve the speed of sparsity calculations
when using the internal representation for a
<a href="glossary.htm#Sparsity Pattern.Boolean Vector" target="_top"><span style='white-space: nowrap'>boolean&nbsp;vector</span></a>
.
</li><li>

An extra pair of braces was expected in each
<a href="json_ad_graph.htm#op_usage" target="_top"><span style='white-space: nowrap'>op_usage</span></a>
 of an <a href="json_ad_graph.htm" target="_top"><span style='white-space: nowrap'>json_ad_graph</span></a>
.
This has been fixed.
</li></ol>



<br>
<br>
<b><big><a name="06-18" id="06-18">06-18</a></big></b>
<br>
There are some problems using as Windows DLL for the <code><font color="blue">cppad_lib</font></code>
library. These problems have been circumvented (for the time being) by using
as static library for Windows systems.

<br>
<br>
<b><big><a name="06-17" id="06-17">06-17</a></big></b>
<br>
A new feature that constructs a <code><font color="blue">ADFun</font></code> object
from a Json representation of a computational graph was added; see
<a href="json_ad_graph.htm" target="_top"><span style='white-space: nowrap'>json_ad_graph</span></a>
 and <a href="from_json.htm" target="_top"><span style='white-space: nowrap'>from_json</span></a>
.
This requires linking the <code><font color="blue">cppad_lib</font></code> library.
It is a Minimal Viable Product and is intended for testing.
As of yet, only has the addition and multiplication operators are
implemented.

<br>
<br>
<b><big><a name="06-10" id="06-10">06-10</a></big></b>
<br>
Some work was done to improve the speed of sparsity calculations
when using the internal representation for a
<a href="glossary.htm#Sparsity Pattern.Vector of Sets" target="_top"><span style='white-space: nowrap'>vector&nbsp;of&nbsp;sets</span></a>
.
This also reduced the time required by the
<a href="optimize.htm" target="_top"><span style='white-space: nowrap'>optimize</span></a>
 operation for some cases.

<br>
<br>
<b><big><a name="06-02" id="06-02">06-02</a></big></b>
<br>
The version number in the title of the top level for the
<a href="cppad.htm" target="_top"><span style='white-space: nowrap'>CppAD</span></a>
 documentation was not being updated.
This started on <code><font color="blue">20190521</font></code> and has been fixed.

<br>
<br>
<b><big><a name="05-31" id="05-31">05-31</a></big></b>
<br>
Add the <a href="cppad_vector.htm" target="_top"><span style='white-space: nowrap'>swap</span></a>
 operation to the
<code><font color="blue">CppAD::vector</font></code> template class and
<a href="cppad_vector.htm#vectorBool" target="_top"><span style='white-space: nowrap'>vectorBool</span></a>
 class.
In addition, change <a href="cppad_vector.cpp.htm" target="_top"><span style='white-space: nowrap'>cppad_vector.cpp</span></a>
 example
so it focuses on operations that are not in
<a href="simplevector.htm" target="_top"><span style='white-space: nowrap'>SimpleVector</span></a>
.

<br>
<br>
<b><big><a name="05-28" id="05-28">05-28</a></big></b>
<br>
There was a bug in optimizing conditional expressions; i.e.,
optimizing without the option
<a href="optimize.htm#options.no_conditional_skip" target="_top"><span style='white-space: nowrap'>no_conditional_skip</span></a>
.
This was a rare case that involving sets of conditional expressions
and conditionally skipping a specific operator.
The bug was reproduced in a regression test and is fixed.

<br>
<br>
<b><big><a name="05-22" id="05-22">05-22</a></big></b>

<ol type="1"><li>
Some speed improvements were made to the
<a href="for_hes_sparsity.htm" target="_top"><span style='white-space: nowrap'>for_hes_sparsity</span></a>
 algorithm.
To be specific the forward Jacobian and Hessian patterns
are computed during the same pass and using the same structure.
This avoids an extra pass on the operation sequence.
In addition, when <a href="for_hes_sparsity.htm#internal_bool" target="_top"><span style='white-space: nowrap'>internal_bool</span></a>

is false, it enables smart points to the forward Jacobian and Hessian
to share the same underlying sets of integers (when they are equal).
</li><li>

Some minor improvements and updating was done for the
<a href="directory.htm" target="_top"><span style='white-space: nowrap'>directory</span></a>
 and <a href="glossary.htm" target="_top"><span style='white-space: nowrap'>glossary</span></a>
 sections.
</li></ol>


<br>
<br>
<b><big><a name="05-21" id="05-21">05-21</a></big></b>
<br>
Simplify the example computation of Hessian using subgraphs
<a href="subgraph_hes2jac.cpp.htm" target="_top"><span style='white-space: nowrap'>subgraph_hes2jac.cpp</span></a>
.
This simplification was a change from using
<a href="mul_level.htm" target="_top"><span style='white-space: nowrap'>multiple&nbsp;levels&nbsp;of&nbsp;AD</span></a>
 to using <a href="base2ad.htm" target="_top"><span style='white-space: nowrap'>base2ad</span></a>
.

<br>
<br>
<b><big><a name="05-07" id="05-07">05-07</a></big></b>
<br>
There was a bug in the checking for correctness of the
<a href="adolc_sparse_hessian.cpp.htm" target="_top"><span style='white-space: nowrap'>adolc_sparse_hessian.cpp</span></a>
 results.
This was due to the fact that the sparsity patterns for ADOL-C
may have more entires that CppAD knows are zero.

<br>
<br>
<b><big><a name="04-01" id="04-01">04-01</a></big></b>
<br>
Add the optional
<a href="time_test.htm#repeat_out" target="_top"><span style='white-space: nowrap'>repeat_out</span></a>
 argument to the
<code><font color="blue">time_test</font></code> function.

<br>
<br>
<b><big><a name="03-27" id="03-27">03-27</a></big></b>
<br>
Improve the speed of sparse Hessian calculations that
<a href="sparse_hes.htm#coloring.colpack.symmetric" target="_top"><span style='white-space: nowrap'>colpack.symmetric</span></a>

coloring method by directly accessing the coloring determined by Colpack.

<br>
<br>
<b><big><a name="03-19" id="03-19">03-19</a></big></b>
<br>
There was a bug in <a href="reverse_any.htm" target="_top"><span style='white-space: nowrap'>f.Reverse(q,&nbsp;w)</span></a>
 when 
<code><i><font color="black"><span style='white-space: nowrap'>f</span></font></i></code>

contained the  <a href="pow.htm" target="_top"><span style='white-space: nowrap'>pow(x,y)</span></a>
 function and 
<code><i><font color="black"><span style='white-space: nowrap'>x</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;==&nbsp;0</span></font></code>
.
To be specific, it was not reporting zero instead of <code><font color="blue">nan</font></code>
for the derivative. This has been partially, but not completely fixed.
See the <a href="wish_list.htm#Reverse Mode" target="_top"><span style='white-space: nowrap'>reverse&nbsp;mode</span></a>
 in the wish list.

<br>
<br>
<b><big><a name="03-13" id="03-13">03-13</a></big></b>
<br>
Fix a bug in <a href="subgraph_jac_rev.htm" target="_top"><span style='white-space: nowrap'>f.subgraph_jac_rev(x,&nbsp;subset)</span></a>
.
This bug appeared in a test that only returned the upper triangle
of a symmetric matrix (the lower triangle worked).

<br>
<br>
<b><big><a name="02-26" id="02-26">02-26</a></big></b>
<br>
There was a problem linking the boost multi-threading library
on some systems that caused the corresponding check to be skipped.
This has been fixed. To be specific,
<code><font color='blue'><pre style='display:inline'> 
     make check_example_multi_thread_bthread: available
</pre></font></code>
was not in the <a href="cmake.htm#CMake Command" target="_top"><span style='white-space: nowrap'>cmake&nbsp;command</span></a>
 output.
This has been fixed.


<br>
<br>
<b><big><a name="02-23" id="02-23">02-23</a></big></b>
<br>
The return value 
<code><i><font color="black"><span style='white-space: nowrap'>n_sweep</span></font></i></code>
 was changed to
<a href="sparse_jac.htm#n_color" target="_top"><span style='white-space: nowrap'>n_color</span></a>
 because it is not the number
of sweeps when <a href="sparse_jac.htm#group_max" target="_top"><span style='white-space: nowrap'>group_max</span></a>
 is not equal to one.
This change was also made for the
<a href="speed_main.htm#Speed Results.n_color" target="_top"><span style='white-space: nowrap'>speed&nbsp;tests</span></a>
.

<br>
<br>
<b><big><a name="02-22" id="02-22">02-22</a></big></b>
<br>
Add row major order specifications to the speed test routines
<a href="link_sparse_jacobian.htm#Row Major" target="_top"><span style='white-space: nowrap'>link_sparse_jacobian</span></a>
 and
<a href="link_sparse_hessian.htm#Row Major" target="_top"><span style='white-space: nowrap'>link_sparse_hessian</span></a>
.
This reduced the overhead (increased the speed) for the
<a href="adolc_sparse_jacobian.cpp.htm" target="_top"><span style='white-space: nowrap'>adolc_sparse_jacobian.cpp</span></a>
 and
<a href="adolc_sparse_hessian.cpp.htm" target="_top"><span style='white-space: nowrap'>adolc_sparse_hessian.cpp</span></a>
 test cases.

<br>
<br>
<b><big><a name="02-20" id="02-20">02-20</a></big></b>

<ol type="1"><li>
Fix bug below in the new release
<a href="https://github.com/coin-or/CppAD/archive/20190200.1.tar.gz" target="_top"><span style='white-space: nowrap'>20190200.1</span></a>
.
</li><li>

There was a problem locating the boost multi-threading library.
To be specific, the
<a href="cmake.htm#CMake Command" target="_top"><span style='white-space: nowrap'>cmake&nbsp;command</span></a>
 would report

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;Could&nbsp;not&nbsp;find&nbsp;boost&nbsp;multi-threading&nbsp;library<br>
</span></font></code>
but it would still try to use the library.
This was because a file name with a <code><font color="blue">-</font></code> in it was
also being used for a cmake variable name.
This has been fixed.
</li></ol>


<br>
<br>
<b><big><a name="02-06" id="02-06">02-06</a></big></b>
<br>
Improve the discussion of the purpose of for the different
<a href="subgraph_jac_rev.htm#Purpose" target="_top"><span style='white-space: nowrap'>subgraph</span></a>
 options which computing
sparse Jacobians.

<br>
<br>
<b><big><a name="02-01" id="02-01">02-01</a></big></b>

<ol type="1"><li>
A stable release for 2019 is now available on the
<a href="https://github.com/coin-or/CppAD/releases" target="_top"><span style='white-space: nowrap'>release</span></a>
 page.
</li><li>

The <a href="download.htm" target="_top"><span style='white-space: nowrap'>download</span></a>
 page was edited to include better discussion
of the license and documentation.
</li></ol>



<br>
<br>
<b><big><a name="01-18" id="01-18">01-18</a></big></b>
<br>
The documentation for <a href="atomic_three.htm" target="_top"><span style='white-space: nowrap'>atomic_three</span></a>
,
and its subsections, was improved.

<br>
<br>
<b><big><a name="01-17" id="01-17">01-17</a></big></b>
<br>
The arguments
<a href="atomic_three.htm#parameter_x" target="_top"><span style='white-space: nowrap'>parameter_x</span></a>
 and
<a href="atomic_three.htm#type_x" target="_top"><span style='white-space: nowrap'>type_x</span></a>
 were included
for all the <code><font color="blue">atomic_three</font></code> virtual functions.

<br>
<br>
<b><big><a name="01-16" id="01-16">01-16</a></big></b>
<br>
More improvements, and bug fixes, in the optimization of <a href="atomic.htm" target="_top"><span style='white-space: nowrap'>atomic</span></a>

operations.
This results in a reduction in the number of parameters
<a href="seq_property.htm#size_par" target="_top"><span style='white-space: nowrap'>size_par</span></a>

and the number of variables
<a href="seq_property.htm#size_var" target="_top"><span style='white-space: nowrap'>size_var</span></a>
.

<br>
<br>
<b><big><a name="01-15" id="01-15">01-15</a></big></b>
<br>
Fix a bug in the optimization of <a href="atomic_three.htm" target="_top"><span style='white-space: nowrap'>atomic_three</span></a>

operations with <a href="independent.htm#dynamic" target="_top"><span style='white-space: nowrap'>dynamic</span></a>
 parameters.

<br>
<br>
<b><big><a name="01-14" id="01-14">01-14</a></big></b>

<ol type="1"><li>
The <a href="atomic_three_rev_depend.htm" target="_top"><span style='white-space: nowrap'>rev_depend</span></a>
 call back function
was added to <code><font color="blue">atomic_three</font></code> class.
This enables one to <a href="optimize.htm" target="_top"><span style='white-space: nowrap'>optimize</span></a>
 functions that use
<code><font color="blue">atomic_three</font></code> operations; see
the <a href="atomic_three_rev_depend.cpp.htm" target="_top"><span style='white-space: nowrap'>rev_depend.cpp</span></a>
 example.
</li><li>

The ability to <a href="optimize.htm" target="_top"><span style='white-space: nowrap'>optimize</span></a>
 functions was extended to
<a href="chkpoint_two.htm" target="_top"><span style='white-space: nowrap'>chkpoint_two</span></a>
 operations; e.g., a call to optimize was added
at the end of the
<a href="chkpoint_two_get_started.cpp.htm" target="_top"><span style='white-space: nowrap'>get_started.cpp</span></a>
 example.
</li><li>

The <a href="chkpoint_one.htm" target="_top"><span style='white-space: nowrap'>chkpoint_one</span></a>
 class was deprecated,
use <a href="chkpoint_two.htm" target="_top"><span style='white-space: nowrap'>chkpoint_two</span></a>
 instead.
</li></ol>


<br>
<br>
<b><big><a name="01-06" id="01-06">01-06</a></big></b>
<br>
One of the two atomic matrix multiply examples was converted
from using <a href="atomic_two.htm" target="_top"><span style='white-space: nowrap'>atomic_two</span></a>
 to <a href="atomic_three_mat_mul.cpp.htm" target="_top"><span style='white-space: nowrap'>atomic_three_mat_mul.cpp</span></a>
.
This conversion made it clear that the 
<code><i><font color="black"><span style='white-space: nowrap'>type_x</span></font></i></code>
 argument
needed to be included in the
<a href="atomic_three_jac_sparsity.htm#type_x" target="_top"><span style='white-space: nowrap'>jac_sparsity</span></a>
 and
<a href="atomic_three_hes_sparsity.htm#type_x" target="_top"><span style='white-space: nowrap'>hes_sparsity</span></a>
 functions.

<br>
<br>
<b><big><a name="01-05" id="01-05">01-05</a></big></b>
<br>
Merge in the <code><font color="blue">atomic branch</font></code>.
This completed <a href="wish_list.htm" target="_top"><span style='white-space: nowrap'>wish_list</span></a>
 item for the new atomic function API;
see <a href="atomic_three.htm" target="_top"><span style='white-space: nowrap'>atomic_three</span></a>
.
This is an improvement over the <a href="atomic_two.htm" target="_top"><span style='white-space: nowrap'>atomic_two</span></a>
 interface,
which used the <code><font color="blue">atomic_base</font></code> class and has been deprecated.
In addition the following changes were included:
<ol type="1"><li>
Move the checkpoint examples below the
<a href="chkpoint_one.htm" target="_top"><span style='white-space: nowrap'>checkpoint</span></a>
 documentation.
</li><li>

A phantom parameter, at index zero, was added; see
<a href="seq_property.htm#size_par" target="_top"><span style='white-space: nowrap'>size_par</span></a>
.
</li><li>

There appears to have been a bug in <code><font color="blue">put_con_par</font></code> (not tested for)
whereby a constant parameter might match a dynamic parameter
(and get changed). This has been fixed.
</li><li>

There was a mistake in the <code><font color="blue">check_variable_dag</font></code> routine whereby
the operator <code><font color="blue">LeppOp</font></code> checked a parameter index as if it were
a variable index. This has been fixed.
</li></ol>


<br>
<br>
<b><big><a name="01-11" id="01-11">01-11</a></big></b>
<br>
Merge in the <code><font color="blue">chkpoint</font></code> branch.
<ol type="1"><li>
This created the <a href="chkpoint_two.htm" target="_top"><span style='white-space: nowrap'>chkpoint_two</span></a>
 class as a replacement
for the <a href="chkpoint_one.htm" target="_top"><span style='white-space: nowrap'>chkpoint_one</span></a>
 class.
This new checkpoint class takes advantage
of <a href="glossary.htm#Parameter.Dynamic" target="_top"><span style='white-space: nowrap'>dynamic&nbsp;parameters</span></a>

and can be used with <a href="base2ad.htm" target="_top"><span style='white-space: nowrap'>base2ad</span></a>
.
</li><li>

While creating the <code><font color="blue">chkpoint_two</font></code> class,
a problem was discovered in the <a href="atomic_three.htm" target="_top"><span style='white-space: nowrap'>atomic_three</span></a>
 class.
To be specific, it does not yet work with <a href="optimize.htm" target="_top"><span style='white-space: nowrap'>optimize</span></a>
.
A reverse dependency analysis is the proper way to fix this.
The <code><font color="blue">atomic_three</font></code> <code><font color="blue">type</font></code> member function does a forward
<a href="atomic_three_for_type.htm#Dependency Analysis" target="_top"><span style='white-space: nowrap'>dependency&nbsp;analysis</span></a>

and so its name was changed from <code><font color="blue">type</font></code> to <code><font color="blue">for_type</font></code>.
</li></ol>



<hr>Input File: omh/appendix/whats_new/19.omh

</body>
</html>
